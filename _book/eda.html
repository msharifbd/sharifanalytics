<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analytics for Accounting Data - 3&nbsp; Exploratory Data Analysis (EDA)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./visualization.html" rel="next">
<link href="./foundations.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">



</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./eda.html">Data Exploration and Management</a></li><li class="breadcrumb-item"><a href="./eda.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis (EDA)</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Analytics for Accounting Data</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/msharifbd/sharifanalytics" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Analytics-for-Accounting-Data.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Analytics-for-Accounting-Data.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Introduction to Accounting Analytics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Overview of Accounting Analytics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./foundations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Foundations of Accounting Data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Data Exploration and Management</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis (EDA)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dashboard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Dashboard for Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Management in Accounting</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Predictive and Prescriptive Analytics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Predictive Modeling - Linear Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prescriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Prescriptive Analytics in Accounting</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Advanced Techniques and Applications</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./advanced_analytics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Web Scraping and Textual Analytics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Natural Language Processing (NLP)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machine_learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Machine Learning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fraud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Fraud Detection and Risk Management</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./performance_measurement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Performance Measurement and Management</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Practical Considerations and Future Directions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ethics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Regulatory and Ethical Considerations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./future.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Future Directions in Accounting Analytics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./python_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">A Primer on Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">A Primer on R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter1_solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Chapter 1 Solution</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter2_solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Chapter 2 Solution</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives-of-the-chapter" id="toc-learning-objectives-of-the-chapter" class="nav-link active" data-scroll-target="#learning-objectives-of-the-chapter">Learning Objectives of the Chapter</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">3.1</span> Introduction</a></li>
  <li><a href="#data-collection-importing" id="toc-data-collection-importing" class="nav-link" data-scroll-target="#data-collection-importing"><span class="header-section-number">3.2</span> Data Collection &amp; Importing</a></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning"><span class="header-section-number">3.3</span> Data Cleaning</a></li>
  <li><a href="#packages-for-exploratory-data-analysis-eda" id="toc-packages-for-exploratory-data-analysis-eda" class="nav-link" data-scroll-target="#packages-for-exploratory-data-analysis-eda"><span class="header-section-number">3.4</span> Packages for Exploratory Data Analysis (EDA)</a></li>
  <li><a href="#importing-the-dataset" id="toc-importing-the-dataset" class="nav-link" data-scroll-target="#importing-the-dataset"><span class="header-section-number">3.5</span> Importing the Dataset</a></li>
  <li><a href="#meta-data" id="toc-meta-data" class="nav-link" data-scroll-target="#meta-data"><span class="header-section-number">3.6</span> Meta Data</a></li>
  <li><a href="#cleaning-the-dataset" id="toc-cleaning-the-dataset" class="nav-link" data-scroll-target="#cleaning-the-dataset"><span class="header-section-number">3.7</span> Cleaning the Dataset</a>
  <ul>
  <li><a href="#changing-the-types-of-variables" id="toc-changing-the-types-of-variables" class="nav-link" data-scroll-target="#changing-the-types-of-variables"><span class="header-section-number">3.7.1</span> Changing the Types of Variables</a></li>
  </ul></li>
  <li><a href="#some-other-useful-functions" id="toc-some-other-useful-functions" class="nav-link" data-scroll-target="#some-other-useful-functions"><span class="header-section-number">3.8</span> Some Other Useful Functions</a></li>
  <li><a href="#six-verbs-for-eda" id="toc-six-verbs-for-eda" class="nav-link" data-scroll-target="#six-verbs-for-eda"><span class="header-section-number">3.9</span> Six Verbs for EDA</a>
  <ul>
  <li><a href="#st-verb---filter-function" id="toc-st-verb---filter-function" class="nav-link" data-scroll-target="#st-verb---filter-function"><span class="header-section-number">3.9.1</span> 1st Verb - filter () Function</a></li>
  <li><a href="#nd-verb---arrange-function" id="toc-nd-verb---arrange-function" class="nav-link" data-scroll-target="#nd-verb---arrange-function"><span class="header-section-number">3.9.2</span> 2nd Verb - arrange () Function</a></li>
  <li><a href="#rd-verb---select-function" id="toc-rd-verb---select-function" class="nav-link" data-scroll-target="#rd-verb---select-function"><span class="header-section-number">3.9.3</span> 3rd Verb - select () Function</a></li>
  <li><a href="#th-verb---rename-function" id="toc-th-verb---rename-function" class="nav-link" data-scroll-target="#th-verb---rename-function"><span class="header-section-number">3.9.4</span> 4th Verb - rename () Function</a></li>
  <li><a href="#th-verb---mutate-function" id="toc-th-verb---mutate-function" class="nav-link" data-scroll-target="#th-verb---mutate-function"><span class="header-section-number">3.9.5</span> 5th Verb - mutate () Function</a></li>
  <li><a href="#th-verbs---group_by-and-summarize-functions" id="toc-th-verbs---group_by-and-summarize-functions" class="nav-link" data-scroll-target="#th-verbs---group_by-and-summarize-functions"><span class="header-section-number">3.9.6</span> 6th Verbs - group_by () and summarize () Functions</a></li>
  </ul></li>
  <li><a href="#reshaping-data" id="toc-reshaping-data" class="nav-link" data-scroll-target="#reshaping-data"><span class="header-section-number">3.10</span> Reshaping Data</a>
  <ul>
  <li><a href="#long-to-wide-format" id="toc-long-to-wide-format" class="nav-link" data-scroll-target="#long-to-wide-format"><span class="header-section-number">3.10.1</span> Long-to-Wide Format</a></li>
  <li><a href="#wide-to-long-format" id="toc-wide-to-long-format" class="nav-link" data-scroll-target="#wide-to-long-format"><span class="header-section-number">3.10.2</span> Wide-to-Long Format</a></li>
  </ul></li>
  <li><a href="#merging-datasets" id="toc-merging-datasets" class="nav-link" data-scroll-target="#merging-datasets"><span class="header-section-number">3.11</span> Merging Datasets</a></li>
  <li><a href="#conclusions" id="toc-conclusions" class="nav-link" data-scroll-target="#conclusions"><span class="header-section-number">3.12</span> Conclusions</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/msharifbd/sharifanalytics/edit/main/eda.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/msharifbd/sharifanalytics/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/msharifbd/sharifanalytics/blob/main/eda.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./eda.html">Data Exploration and Management</a></li><li class="breadcrumb-item"><a href="./eda.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis (EDA)</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis (EDA)</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="learning-objectives-of-the-chapter" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="learning-objectives-of-the-chapter">Learning Objectives of the Chapter</h3>
<div style="text-align: justify">
<p>At the End of the Chapter, Students should be Able to -</p>
<ul>
<li><p>Learn about the purpose of Exploratory Data Analysis (EDA)</p></li>
<li><p>Understand different techniques of transforming and cleaning data</p></li>
<li><p>Learn about Different R and Python Packages for EDA</p></li>
<li><p>Understand how to use six verbs for EDA</p></li>
<li><p>Perform EDA on some real world data sets</p></li>
<li><p>Learn about how to interpret results from EDA</p></li>
</ul>
</div>
</section>
<section id="introduction" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">3.1</span> Introduction</h2>
<div style="text-align: justify">
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In descriptive statistics, we summarize the data using different metrics such as mean, median, standard deviation, minimum value, maximum value, and percentile. Descriptive statisics is also called summary statistics.</p>
</div>
</section>
<section id="data-collection-importing" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="data-collection-importing"><span class="header-section-number">3.2</span> Data Collection &amp; Importing</h2>
</section>
<section id="data-cleaning" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="data-cleaning"><span class="header-section-number">3.3</span> Data Cleaning</h2>
</section>
<section id="packages-for-exploratory-data-analysis-eda" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="packages-for-exploratory-data-analysis-eda"><span class="header-section-number">3.4</span> Packages for Exploratory Data Analysis (EDA)</h2>
<div style="text-align: justify">
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In order to use <code>pyjanitor</code>, the data frame must be pandas because <code>pyjanitor</code> extends pandas data frame functionality.</p>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loading packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loading the package</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># from pyjanitor package </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># pip install pyjanitor</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> janitor </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> janitor <span class="im">import</span> clean_names, remove_empty</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="importing-the-dataset" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="importing-the-dataset"><span class="header-section-number">3.5</span> Importing the Dataset</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importing data frame </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/msharifbd/DATA/main/Al-Bundy_raw-data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importing data frame </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df_pd <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/msharifbd/DATA/main/Al-Bundy_raw-data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="meta-data" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="meta-data"><span class="header-section-number">3.6</span> Meta Data</h2>
<div style="text-align: justify">
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Meta data is data about the data. Before we put the data into analysis, we need to learn about our dataset. This learning invovles knowing about the number of rows, number of columns, the types of the fields, the appropriateness of those types, the missing values in the dataset and so on.</p>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 14,967
Columns: 14
$ InvoiceNo       &lt;dbl&gt; 52389, 52390, 52391, 52392, 52393, 52394, 52395, 52396…
$ Date            &lt;chr&gt; "1/1/2014", "1/1/2014", "1/1/2014", "1/1/2014", "1/1/2…
$ Country         &lt;chr&gt; "United Kingdom", "United States", "Canada", "United S…
$ ProductID       &lt;dbl&gt; 2152, 2230, 2160, 2234, 2222, 2173, 2200, 2238, 2191, …
$ Shop            &lt;chr&gt; "UK2", "US15", "CAN7", "US6", "UK4", "US15", "GER2", "…
$ Gender          &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Male", "F…
$ `Size (US)`     &lt;dbl&gt; 11.0, 11.5, 9.5, 9.5, 9.0, 10.5, 9.0, 10.0, 10.5, 9.0,…
$ `Size (Europe)` &lt;chr&gt; "44", "44-45", "42-43", "40", "39-40", "43-44", "39-40…
$ `Size (UK)`     &lt;dbl&gt; 10.5, 11.0, 9.0, 7.5, 7.0, 10.0, 7.0, 9.5, 10.0, 7.0, …
$ UnitPrice       &lt;dbl&gt; 159, 199, 149, 159, 159, 159, 179, 169, 139, 149, 129,…
$ Discount        &lt;dbl&gt; 0.0, 0.2, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,…
$ Year            &lt;dbl&gt; 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, …
$ Month           &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ SalePrice       &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map_df</span>(df, <span class="sc">~</span><span class="fu">sum</span>(<span class="fu">is.na</span>(.))) <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 14
$ InvoiceNo       &lt;int&gt; 0
$ Date            &lt;int&gt; 0
$ Country         &lt;int&gt; 0
$ ProductID       &lt;int&gt; 0
$ Shop            &lt;int&gt; 0
$ Gender          &lt;int&gt; 0
$ `Size (US)`     &lt;int&gt; 0
$ `Size (Europe)` &lt;int&gt; 0
$ `Size (UK)`     &lt;int&gt; 0
$ UnitPrice       &lt;int&gt; 0
$ Discount        &lt;int&gt; 0
$ Year            &lt;int&gt; 0
$ Month           &lt;int&gt; 0
$ SalePrice       &lt;int&gt; 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14967</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 14
  InvoiceNo Date     Country  ProductID Shop  Gender `Size (US)` `Size (Europe)`
      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;          
1     52389 1/1/2014 United …      2152 UK2   Male          11   44             
2     52390 1/1/2014 United …      2230 US15  Male          11.5 44-45          
3     52391 1/1/2014 Canada        2160 CAN7  Male           9.5 42-43          
4     52392 1/1/2014 United …      2234 US6   Female         9.5 40             
5     52393 1/1/2014 United …      2222 UK4   Female         9   39-40          
6     52394 1/1/2014 United …      2173 US15  Male          10.5 43-44          
# ℹ 6 more variables: `Size (UK)` &lt;dbl&gt;, UnitPrice &lt;dbl&gt;, Discount &lt;dbl&gt;,
#   Year &lt;dbl&gt;, Month &lt;dbl&gt;, SalePrice &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 14
  InvoiceNo Date      Country ProductID Shop  Gender `Size (US)` `Size (Europe)`
      &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;          
1     65772 12/31/20… United…      2168 US13  Male           8   41             
2     65773 12/31/20… United…      2154 UK2   Male           9.5 42-43          
3     65774 12/31/20… United…      2181 US12  Female        12   42-43          
4     65775 12/31/20… Canada       2203 CAN6  Male          10.5 43-44          
5     65776 12/31/20… Germany      2231 GER1  Female         9.5 40             
6     65777 12/31/20… Germany      2156 GER1  Female         6.5 37             
# ℹ 6 more variables: `Size (UK)` &lt;dbl&gt;, UnitPrice &lt;dbl&gt;, Discount &lt;dbl&gt;,
#   Year &lt;dbl&gt;, Month &lt;dbl&gt;, SalePrice &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">sample_n</span>(df, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 14
   InvoiceNo Date     Country ProductID Shop  Gender `Size (US)` `Size (Europe)`
       &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;          
 1     59296 1/8/2016 United…      2180 UK4   Male           9   42             
 2     65308 11/28/2… United…      2232 US15  Male          10.5 43-44          
 3     60960 4/18/20… Germany      2233 GER2  Female         8   38-39          
 4     58489 11/10/2… Canada       2171 CAN3  Female         7   37-38          
 5     58454 11/8/20… United…      2234 UK5   Female         8.5 39             
 6     59241 1/4/2016 United…      2184 US5   Female         8   38-39          
 7     57752 9/18/20… Germany      2172 GER3  Female         9   39-40          
 8     58603 11/18/2… Canada       2195 CAN2  Female         9.5 40             
 9     59531 1/22/20… United…      2207 UK5   Male           8   41             
10     59699 2/2/2016 Germany      2179 GER1  Male           9.5 42-43          
# ℹ 6 more variables: `Size (UK)` &lt;dbl&gt;, UnitPrice &lt;dbl&gt;, Discount &lt;dbl&gt;,
#   Year &lt;dbl&gt;, Month &lt;dbl&gt;, SalePrice &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df_pd.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 14 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   InvoiceNo      14967 non-null  int64  
 1   Date           14967 non-null  object 
 2   Country        14967 non-null  object 
 3   ProductID      14967 non-null  int64  
 4   Shop           14967 non-null  object 
 5   Gender         14967 non-null  object 
 6   Size (US)      14967 non-null  float64
 7   Size (Europe)  14967 non-null  object 
 8   Size (UK)      14967 non-null  float64
 9   UnitPrice      14967 non-null  int64  
 10  Discount       14967 non-null  float64
 11  Year           14967 non-null  int64  
 12  Month          14967 non-null  int64  
 13  SalePrice      14967 non-null  float64
dtypes: float64(4), int64(5), object(5)
memory usage: 1.6+ MB</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df_pd.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(14967, 14)</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The total number of rows and columns of the product data is </span><span class="ch">\</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="st"> </span><span class="sc">{}</span><span class="st"> and </span><span class="sc">{}</span><span class="st"> respectively.'</span>.<span class="bu">format</span>(df_pd.shape[<span class="dv">0</span>], df_pd.shape[<span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The total number of rows and columns of the product data is  14967 and 14 respectively.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'The total number of rows and columns of the product data is </span><span class="ch">\</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ss"> </span><span class="sc">{</span>df_pd<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span>df_pd<span class="sc">.</span>shape[<span class="dv">1</span>]<span class="sc">}</span><span class="ss"> respectively.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The total number of rows and columns of the product data is  14967 and 14 respectively.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df_pd.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['InvoiceNo', 'Date', 'Country', 'ProductID', 'Shop', 'Gender',
       'Size (US)', 'Size (Europe)', 'Size (UK)', 'UnitPrice', 'Discount',
       'Year', 'Month', 'SalePrice'],
      dtype='object')</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df_pd.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   InvoiceNo      Date         Country  ...  Year Month SalePrice
0      52389  1/1/2014  United Kingdom  ...  2014     1     159.0
1      52390  1/1/2014   United States  ...  2014     1     159.2
2      52391  1/1/2014          Canada  ...  2014     1     119.2
3      52392  1/1/2014   United States  ...  2014     1     159.0
4      52393  1/1/2014  United Kingdom  ...  2014     1     159.0

[5 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df_pd.tail()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       InvoiceNo        Date         Country  ...  Year Month SalePrice
14962      65773  12/31/2016  United Kingdom  ...  2016    12     139.0
14963      65774  12/31/2016   United States  ...  2016    12     149.0
14964      65775  12/31/2016          Canada  ...  2016    12     125.3
14965      65776  12/31/2016         Germany  ...  2016    12     199.0
14966      65777  12/31/2016         Germany  ...  2016    12     125.1

[5 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df_pd.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>InvoiceNo        0
Date             0
Country          0
ProductID        0
Shop             0
Gender           0
Size (US)        0
Size (Europe)    0
Size (UK)        0
UnitPrice        0
Discount         0
Year             0
Month            0
SalePrice        0
dtype: int64</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df_pd.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>InvoiceNo          int64
Date              object
Country           object
ProductID          int64
Shop              object
Gender            object
Size (US)        float64
Size (Europe)     object
Size (UK)        float64
UnitPrice          int64
Discount         float64
Year               int64
Month              int64
SalePrice        float64
dtype: object</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>df_pd.sample(n<span class="op">=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       InvoiceNo        Date         Country  ...  Year Month SalePrice
9651       61029   4/21/2016         Germany  ...  2016     4     189.0
12214      63301   8/15/2016  United Kingdom  ...  2016     8     111.3
3941       55832   4/21/2015   United States  ...  2015     4     111.3
878        53122   4/28/2014         Germany  ...  2014     4     129.0
2638       54629  12/17/2014   United States  ...  2014    12     118.3
9941       61292    5/6/2016   United States  ...  2016     5     149.0
11824      62952   7/29/2016          Canada  ...  2016     7     169.0
8911       60375   3/13/2016         Germany  ...  2016     3     134.1
2634       54625  12/16/2014   United States  ...  2014    12     111.2
2896       54864   1/16/2015         Germany  ...  2015     1      64.5

[10 rows x 14 columns]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="cleaning-the-dataset" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="cleaning-the-dataset"><span class="header-section-number">3.7</span> Cleaning the Dataset</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">panads</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a> df <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">rename_all</span>(toupper) <span class="sc">|&gt;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>     janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">rename_all</span>(toupper) <span class="sc">|&gt;</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 14,967
Columns: 14
$ INVOICENO   &lt;dbl&gt; 52389, 52390, 52391, 52392, 52393, 52394, 52395, 52396, 52…
$ DATE        &lt;chr&gt; "1/1/2014", "1/1/2014", "1/1/2014", "1/1/2014", "1/1/2014"…
$ COUNTRY     &lt;chr&gt; "United Kingdom", "United States", "Canada", "United State…
$ PRODUCTID   &lt;dbl&gt; 2152, 2230, 2160, 2234, 2222, 2173, 2200, 2238, 2191, 2237…
$ SHOP        &lt;chr&gt; "UK2", "US15", "CAN7", "US6", "UK4", "US15", "GER2", "CAN5…
$ GENDER      &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Male", "Femal…
$ SIZE_US     &lt;dbl&gt; 11.0, 11.5, 9.5, 9.5, 9.0, 10.5, 9.0, 10.0, 10.5, 9.0, 10.…
$ SIZE_EUROPE &lt;chr&gt; "44", "44-45", "42-43", "40", "39-40", "43-44", "39-40", "…
$ SIZE_UK     &lt;dbl&gt; 10.5, 11.0, 9.0, 7.5, 7.0, 10.0, 7.0, 9.5, 10.0, 7.0, 9.5,…
$ UNITPRICE   &lt;dbl&gt; 159, 199, 149, 159, 159, 159, 179, 169, 139, 149, 129, 169…
$ DISCOUNT    &lt;dbl&gt; 0.0, 0.2, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1…
$ YEAR        &lt;dbl&gt; 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014…
$ MONTH       &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ SALEPRICE   &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0, 13…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> df <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">rename_all</span>(toupper) <span class="sc">|&gt;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>     janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">rename_all</span>(toupper)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 14,967
Columns: 14
$ INVOICENO   &lt;dbl&gt; 52389, 52390, 52391, 52392, 52393, 52394, 52395, 52396, 52…
$ DATE        &lt;chr&gt; "1/1/2014", "1/1/2014", "1/1/2014", "1/1/2014", "1/1/2014"…
$ COUNTRY     &lt;chr&gt; "United Kingdom", "United States", "Canada", "United State…
$ PRODUCTID   &lt;dbl&gt; 2152, 2230, 2160, 2234, 2222, 2173, 2200, 2238, 2191, 2237…
$ SHOP        &lt;chr&gt; "UK2", "US15", "CAN7", "US6", "UK4", "US15", "GER2", "CAN5…
$ GENDER      &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Male", "Femal…
$ SIZE_US     &lt;dbl&gt; 11.0, 11.5, 9.5, 9.5, 9.0, 10.5, 9.0, 10.0, 10.5, 9.0, 10.…
$ SIZE_EUROPE &lt;chr&gt; "44", "44-45", "42-43", "40", "39-40", "43-44", "39-40", "…
$ SIZE_UK     &lt;dbl&gt; 10.5, 11.0, 9.0, 7.5, 7.0, 10.0, 7.0, 9.5, 10.0, 7.0, 9.5,…
$ UNITPRICE   &lt;dbl&gt; 159, 199, 149, 159, 159, 159, 179, 169, 139, 149, 129, 169…
$ DISCOUNT    &lt;dbl&gt; 0.0, 0.2, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1…
$ YEAR        &lt;dbl&gt; 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014…
$ MONTH       &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ SALEPRICE   &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0, 13…</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>df_pd.columns.<span class="bu">str</span>.upper().to_list()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['INVOICENO', 'DATE', 'COUNTRY', 'PRODUCTID', 'SHOP', 'GENDER', 'SIZE (US)', 'SIZE (EUROPE)', 'SIZE (UK)', 'UNITPRICE', 'DISCOUNT', 'YEAR', 'MONTH', 'SALEPRICE']</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>(df_pd</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>     .pipe(remove_empty)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>     .pipe(<span class="kw">lambda</span> x: x.clean_names(case_type <span class="op">=</span> <span class="st">"upper"</span>))</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>     .pipe(<span class="kw">lambda</span> x: x.rename(columns <span class="op">=</span> {<span class="st">'SIZE_US_'</span>: <span class="st">'SIZE_US'</span>, <span class="st">'SIZE_EUROPE_'</span>:<span class="st">"SIZE_EUROPE"</span>, <span class="st">"SIZE_UK_"</span>:<span class="st">"SIZE_UK"</span>}))</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>     .pipe(<span class="kw">lambda</span> x: x.info())</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>     )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 14 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   INVOICENO    14967 non-null  int64  
 1   DATE         14967 non-null  object 
 2   COUNTRY      14967 non-null  object 
 3   PRODUCTID    14967 non-null  int64  
 4   SHOP         14967 non-null  object 
 5   GENDER       14967 non-null  object 
 6   SIZE_US      14967 non-null  float64
 7   SIZE_EUROPE  14967 non-null  object 
 8   SIZE_UK      14967 non-null  float64
 9   UNITPRICE    14967 non-null  int64  
 10  DISCOUNT     14967 non-null  float64
 11  YEAR         14967 non-null  int64  
 12  MONTH        14967 non-null  int64  
 13  SALEPRICE    14967 non-null  float64
dtypes: float64(4), int64(5), object(5)
memory usage: 1.6+ MB</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Changing the names of the columns to uppercase</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>df_pd.rename(columns <span class="op">=</span> <span class="bu">str</span>.upper, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>df_pd.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['INVOICENO', 'DATE', 'COUNTRY', 'PRODUCTID', 'SHOP', 'GENDER',
       'SIZE (US)', 'SIZE (EUROPE)', 'SIZE (UK)', 'UNITPRICE', 'DISCOUNT',
       'YEAR', 'MONTH', 'SALEPRICE'],
      dtype='object')</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>new_column <span class="op">=</span> df_pd.columns <span class="op">\</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a> .<span class="bu">str</span>.replace(<span class="st">"("</span>, <span class="st">''</span>).<span class="bu">str</span>.replace(<span class="st">")"</span>, <span class="st">""</span>) <span class="op">\</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a> .<span class="bu">str</span>.replace(<span class="st">' '</span>,<span class="st">'_'</span>) <span class="co"># Cleaning the names of the variables</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>new_column</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['INVOICENO', 'DATE', 'COUNTRY', 'PRODUCTID', 'SHOP', 'GENDER',
       'SIZE_US', 'SIZE_EUROPE', 'SIZE_UK', 'UNITPRICE', 'DISCOUNT', 'YEAR',
       'MONTH', 'SALEPRICE'],
      dtype='object')</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>df_pd.columns <span class="op">=</span> new_column</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>df_pd.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['INVOICENO', 'DATE', 'COUNTRY', 'PRODUCTID', 'SHOP', 'GENDER',
       'SIZE_US', 'SIZE_EUROPE', 'SIZE_UK', 'UNITPRICE', 'DISCOUNT', 'YEAR',
       'MONTH', 'SALEPRICE'],
      dtype='object')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>df_pd.rename(columns<span class="op">=</span><span class="bu">str</span>.upper, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>df_pd.columns </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['INVOICENO', 'DATE', 'COUNTRY', 'PRODUCTID', 'SHOP', 'GENDER',
       'SIZE_US', 'SIZE_EUROPE', 'SIZE_UK', 'UNITPRICE', 'DISCOUNT', 'YEAR',
       'MONTH', 'SALEPRICE'],
      dtype='object')</code></pre>
</div>
</div>
</div>
</div>
</div>
<section id="changing-the-types-of-variables" class="level3" data-number="3.7.1">
<h3 data-number="3.7.1" class="anchored" data-anchor-id="changing-the-types-of-variables"><span class="header-section-number">3.7.1</span> Changing the Types of Variables</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span> (<span class="at">DATE =</span> lubridate<span class="sc">::</span><span class="fu">mdy</span>(DATE)) <span class="sc">|&gt;</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 14,967
Columns: 14
$ INVOICENO   &lt;dbl&gt; 52389, 52390, 52391, 52392, 52393, 52394, 52395, 52396, 52…
$ DATE        &lt;date&gt; 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-0…
$ COUNTRY     &lt;chr&gt; "United Kingdom", "United States", "Canada", "United State…
$ PRODUCTID   &lt;dbl&gt; 2152, 2230, 2160, 2234, 2222, 2173, 2200, 2238, 2191, 2237…
$ SHOP        &lt;chr&gt; "UK2", "US15", "CAN7", "US6", "UK4", "US15", "GER2", "CAN5…
$ GENDER      &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Male", "Femal…
$ SIZE_US     &lt;dbl&gt; 11.0, 11.5, 9.5, 9.5, 9.0, 10.5, 9.0, 10.0, 10.5, 9.0, 10.…
$ SIZE_EUROPE &lt;chr&gt; "44", "44-45", "42-43", "40", "39-40", "43-44", "39-40", "…
$ SIZE_UK     &lt;dbl&gt; 10.5, 11.0, 9.0, 7.5, 7.0, 10.0, 7.0, 9.5, 10.0, 7.0, 9.5,…
$ UNITPRICE   &lt;dbl&gt; 159, 199, 149, 159, 159, 159, 179, 169, 139, 149, 129, 169…
$ DISCOUNT    &lt;dbl&gt; 0.0, 0.2, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1…
$ YEAR        &lt;dbl&gt; 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014…
$ MONTH       &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ SALEPRICE   &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0, 13…</code></pre>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From the above, it is now evident the the type of the <code>DATE</code> variable now is <code>date</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span> (<span class="at">DATE =</span> lubridate<span class="sc">::</span><span class="fu">mdy</span>(DATE)) <span class="sc">|&gt;</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span> (<span class="at">PRODUCTID =</span> <span class="fu">as.character</span>(PRODUCTID)) <span class="sc">|&gt;</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 14,967
Columns: 14
$ INVOICENO   &lt;dbl&gt; 52389, 52390, 52391, 52392, 52393, 52394, 52395, 52396, 52…
$ DATE        &lt;date&gt; 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-0…
$ COUNTRY     &lt;chr&gt; "United Kingdom", "United States", "Canada", "United State…
$ PRODUCTID   &lt;chr&gt; "2152", "2230", "2160", "2234", "2222", "2173", "2200", "2…
$ SHOP        &lt;chr&gt; "UK2", "US15", "CAN7", "US6", "UK4", "US15", "GER2", "CAN5…
$ GENDER      &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Male", "Femal…
$ SIZE_US     &lt;dbl&gt; 11.0, 11.5, 9.5, 9.5, 9.0, 10.5, 9.0, 10.0, 10.5, 9.0, 10.…
$ SIZE_EUROPE &lt;chr&gt; "44", "44-45", "42-43", "40", "39-40", "43-44", "39-40", "…
$ SIZE_UK     &lt;dbl&gt; 10.5, 11.0, 9.0, 7.5, 7.0, 10.0, 7.0, 9.5, 10.0, 7.0, 9.5,…
$ UNITPRICE   &lt;dbl&gt; 159, 199, 149, 159, 159, 159, 179, 169, 139, 149, 129, 169…
$ DISCOUNT    &lt;dbl&gt; 0.0, 0.2, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1…
$ YEAR        &lt;dbl&gt; 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014…
$ MONTH       &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ SALEPRICE   &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0, 13…</code></pre>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From the above, it is now evident the the type of the <code>DATE</code> and <code>PRODUCTID</code> variable now is date (<code>date</code>) and character (<code>chr</code>) respectively. We can now incorparte the changes into the data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> df <span class="sc">|&gt;</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span> (<span class="at">DATE =</span> lubridate<span class="sc">::</span><span class="fu">mdy</span>(DATE)) <span class="sc">|&gt;</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span> (<span class="at">PRODUCTID =</span> <span class="fu">as.character</span>(PRODUCTID)) </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 14,967
Columns: 14
$ INVOICENO   &lt;dbl&gt; 52389, 52390, 52391, 52392, 52393, 52394, 52395, 52396, 52…
$ DATE        &lt;date&gt; 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-0…
$ COUNTRY     &lt;chr&gt; "United Kingdom", "United States", "Canada", "United State…
$ PRODUCTID   &lt;chr&gt; "2152", "2230", "2160", "2234", "2222", "2173", "2200", "2…
$ SHOP        &lt;chr&gt; "UK2", "US15", "CAN7", "US6", "UK4", "US15", "GER2", "CAN5…
$ GENDER      &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Male", "Femal…
$ SIZE_US     &lt;dbl&gt; 11.0, 11.5, 9.5, 9.5, 9.0, 10.5, 9.0, 10.0, 10.5, 9.0, 10.…
$ SIZE_EUROPE &lt;chr&gt; "44", "44-45", "42-43", "40", "39-40", "43-44", "39-40", "…
$ SIZE_UK     &lt;dbl&gt; 10.5, 11.0, 9.0, 7.5, 7.0, 10.0, 7.0, 9.5, 10.0, 7.0, 9.5,…
$ UNITPRICE   &lt;dbl&gt; 159, 199, 149, 159, 159, 159, 179, 169, 139, 149, 129, 169…
$ DISCOUNT    &lt;dbl&gt; 0.0, 0.2, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1…
$ YEAR        &lt;dbl&gt; 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014…
$ MONTH       &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ SALEPRICE   &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0, 13…</code></pre>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    df_pd</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    .pipe(<span class="kw">lambda</span> x: x.assign(DATE <span class="op">=</span> pd.to_datetime(x[<span class="st">'DATE'</span>])))</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    .pipe(<span class="kw">lambda</span> x: x.info())</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 14 columns):
 #   Column       Non-Null Count  Dtype         
---  ------       --------------  -----         
 0   INVOICENO    14967 non-null  int64         
 1   DATE         14967 non-null  datetime64[ns]
 2   COUNTRY      14967 non-null  object        
 3   PRODUCTID    14967 non-null  int64         
 4   SHOP         14967 non-null  object        
 5   GENDER       14967 non-null  object        
 6   SIZE_US      14967 non-null  float64       
 7   SIZE_EUROPE  14967 non-null  object        
 8   SIZE_UK      14967 non-null  float64       
 9   UNITPRICE    14967 non-null  int64         
 10  DISCOUNT     14967 non-null  float64       
 11  YEAR         14967 non-null  int64         
 12  MONTH        14967 non-null  int64         
 13  SALEPRICE    14967 non-null  float64       
dtypes: datetime64[ns](1), float64(4), int64(5), object(4)
memory usage: 1.6+ MB</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># converting integer to object</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>df_pd.INVOICENO <span class="op">=</span> df_pd.INVOICENO.astype(<span class="bu">str</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>df_pd[[<span class="st">'MONTH'</span>, <span class="st">'PRODUCTID'</span>]] <span class="op">=</span> df_pd[[<span class="st">'MONTH'</span>, <span class="st">'PRODUCTID'</span>]].astype(<span class="bu">str</span>)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>df_pd.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 14 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   INVOICENO    14967 non-null  object 
 1   DATE         14967 non-null  object 
 2   COUNTRY      14967 non-null  object 
 3   PRODUCTID    14967 non-null  object 
 4   SHOP         14967 non-null  object 
 5   GENDER       14967 non-null  object 
 6   SIZE_US      14967 non-null  float64
 7   SIZE_EUROPE  14967 non-null  object 
 8   SIZE_UK      14967 non-null  float64
 9   UNITPRICE    14967 non-null  int64  
 10  DISCOUNT     14967 non-null  float64
 11  YEAR         14967 non-null  int64  
 12  MONTH        14967 non-null  object 
 13  SALEPRICE    14967 non-null  float64
dtypes: float64(4), int64(2), object(8)
memory usage: 1.6+ MB</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="some-other-useful-functions" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="some-other-useful-functions"><span class="header-section-number">3.8</span> Some Other Useful Functions</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;There are some other useful functions that can be used to explore the dataset for analysis. Some of those useful functions are discussed below.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">|&gt;</span> <span class="fu">count</span>(YEAR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
   YEAR     n
  &lt;dbl&gt; &lt;int&gt;
1  2014  2753
2  2015  4848
3  2016  7366</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">|&gt;</span> <span class="fu">count</span>(COUNTRY)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  COUNTRY            n
  &lt;chr&gt;          &lt;int&gt;
1 Canada          2952
2 Germany         4392
3 United Kingdom  1737
4 United States   5886</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">|&gt;</span> <span class="fu">distinct</span>(COUNTRY)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  COUNTRY       
  &lt;chr&gt;         
1 United Kingdom
2 United States 
3 Canada        
4 Germany       </code></pre>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>df_pd[<span class="st">'YEAR'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>YEAR
2016    7366
2015    4848
2014    2753
Name: count, dtype: int64</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>df_pd[<span class="st">'YEAR'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([2014, 2015, 2016], dtype=int64)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="six-verbs-for-eda" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="six-verbs-for-eda"><span class="header-section-number">3.9</span> Six Verbs for EDA</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tbl-compareDplyrPandas" class="quarto-xref">Table&nbsp;<span>3.1</span></a> shows the comparable functions in both <code>dplyr</code> and <code>pandas</code> packages. These functions are very much important to perform exploratory data analysis in both <code>R</code> and <code>Python</code>. <code>group_by</code> (<code>groupby</code> in pandas) and <code>summarize ()</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> (<code>agg ()</code> in pandas) are often used together; therefore, they are in the same group in <a href="#tbl-compareDplyrPandas" class="quarto-xref">Table&nbsp;<span>3.1</span></a>.</p>
<div class="cell">
<div id="tbl-compareDplyrPandas" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-compareDplyrPandas-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.1: Tidyverse and Pandas Equivalent Functions
</figcaption>
<div aria-describedby="tbl-compareDplyrPandas-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Verb Number</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">tidyverse</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">pandas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">filter ()</td>
<td style="text-align: left;">query () or loc () or iloc ()</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">arrange ()</td>
<td style="text-align: left;">sort_values ()</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">select ()</td>
<td style="text-align: left;">filter () or loc ()</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">rename ()</td>
<td style="text-align: left;">rename ()</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">mutate ()</td>
<td style="text-align: left;">assign ()</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">group_by ()</td>
<td style="text-align: left;">groupby ()</td>
</tr>
<tr class="odd">
<td style="text-align: left;">6</td>
<td style="text-align: left;">summarize ()</td>
<td style="text-align: left;">agg ()</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<section id="st-verb---filter-function" class="level3" data-number="3.9.1">
<h3 data-number="3.9.1" class="anchored" data-anchor-id="st-verb---filter-function"><span class="header-section-number">3.9.1</span> 1st Verb - filter () Function</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filter functions are used to subset a data frame based on rows, meaning that retaining rows that satisfy given conditions. Filtering rows is also called slicing<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> becasue we obtain a set of elements by filtering.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">filter</span> (YEAR <span class="sc">==</span> <span class="st">"2015"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,848 × 14
   INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     54725 2015-01-01 United States 2187      US7   Male       9.5 42-43      
 2     54726 2015-01-01 United States 2174      US3   Male       8.5 41-42      
 3     54727 2015-01-01 United States 2240      US11  Male       9   42         
 4     54728 2015-01-01 Germany       2220      GER2  Male      10   43         
 5     54729 2015-01-01 United Kingd… 2199      UK5   Male       9.5 42-43      
 6     54730 2015-01-01 Canada        2169      CAN7  Female     7   37-38      
 7     54731 2015-01-01 Germany       2188      GER1  Female     9.5 40         
 8     54732 2015-01-02 United Kingd… 2155      UK5   Female    10   40-41      
 9     54733 2015-01-02 United States 2173      US5   Female     9   39-40      
10     54734 2015-01-02 Germany       2222      GER3  Female     7.5 38         
# ℹ 4,838 more rows
# ℹ 6 more variables: SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;,
#   YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">filter</span> (COUNTRY <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"United States"</span>, <span class="st">"Canada"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8,838 × 14
   INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     52390 2014-01-01 United States 2230      US15  Male      11.5 44-45      
 2     52391 2014-01-01 Canada        2160      CAN7  Male       9.5 42-43      
 3     52392 2014-01-01 United States 2234      US6   Female     9.5 40         
 4     52394 2014-01-01 United States 2173      US15  Male      10.5 43-44      
 5     52396 2014-01-02 Canada        2238      CAN5  Male      10   43         
 6     52397 2014-01-02 United States 2191      US13  Male      10.5 43-44      
 7     52399 2014-01-02 United States 2197      US1   Male      10   43         
 8     52399 2014-01-02 United States 2213      US11  Female     9.5 40         
 9     52399 2014-01-02 United States 2206      US2   Female     9.5 40         
10     52400 2014-01-02 United States 2152      US15  Male       8   41         
# ℹ 8,828 more rows
# ℹ 6 more variables: SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;,
#   YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">filter</span> (COUNTRY <span class="sc">==</span> <span class="st">"United States"</span>, YEAR <span class="sc">==</span> <span class="st">"2016"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,935 × 14
   INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     59206 2016-01-02 United States 2186      US13  Female     8   38-39      
 2     59209 2016-01-02 United States 2193      US14  Female     9   39-40      
 3     59213 2016-01-02 United States 2228      US13  Male       9.5 42-43      
 4     59214 2016-01-02 United States 2177      US12  Female    10.5 41         
 5     59214 2016-01-02 United States 2236      US6   Male       8.5 41-42      
 6     59219 2016-01-03 United States 2188      US14  Female     9.5 40         
 7     59221 2016-01-03 United States 2178      US13  Female     8   38-39      
 8     59223 2016-01-03 United States 2158      US3   Male       8   41         
 9     59225 2016-01-03 United States 2236      US13  Male       8   41         
10     59226 2016-01-03 United States 2207      US14  Male      14   47         
# ℹ 2,925 more rows
# ℹ 6 more variables: SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;,
#   YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">filter</span> (COUNTRY <span class="sc">==</span> <span class="st">"United States"</span>, YEAR <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2015"</span>,<span class="st">"2016"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,859 × 14
   INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     54725 2015-01-01 United States 2187      US7   Male       9.5 42-43      
 2     54726 2015-01-01 United States 2174      US3   Male       8.5 41-42      
 3     54727 2015-01-01 United States 2240      US11  Male       9   42         
 4     54733 2015-01-02 United States 2173      US5   Female     9   39-40      
 5     54738 2015-01-02 United States 2226      US3   Male      10   43         
 6     54739 2015-01-02 United States 2199      US11  Male       9.5 42-43      
 7     54742 2015-01-03 United States 2209      US6   Male      10   43         
 8     54743 2015-01-03 United States 2238      US15  Female     7.5 38         
 9     54745 2015-01-04 United States 2214      US12  Male      10.5 43-44      
10     54749 2015-01-04 United States 2162      US15  Male       9.5 42-43      
# ℹ 4,849 more rows
# ℹ 6 more variables: SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;,
#   YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">filter</span> (COUNTRY <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"United States"</span>, <span class="st">"Canada"</span>), YEAR <span class="sc">==</span> <span class="st">"2014"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,649 × 14
   INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     52390 2014-01-01 United States 2230      US15  Male      11.5 44-45      
 2     52391 2014-01-01 Canada        2160      CAN7  Male       9.5 42-43      
 3     52392 2014-01-01 United States 2234      US6   Female     9.5 40         
 4     52394 2014-01-01 United States 2173      US15  Male      10.5 43-44      
 5     52396 2014-01-02 Canada        2238      CAN5  Male      10   43         
 6     52397 2014-01-02 United States 2191      US13  Male      10.5 43-44      
 7     52399 2014-01-02 United States 2197      US1   Male      10   43         
 8     52399 2014-01-02 United States 2213      US11  Female     9.5 40         
 9     52399 2014-01-02 United States 2206      US2   Female     9.5 40         
10     52400 2014-01-02 United States 2152      US15  Male       8   41         
# ℹ 1,639 more rows
# ℹ 6 more variables: SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;,
#   YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>df_pd.query(<span class="st">"YEAR == 2015"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     INVOICENO        DATE         COUNTRY  ...  YEAR MONTH SALEPRICE
2753     54725    1/1/2015   United States  ...  2015     1     179.0
2754     54726    1/1/2015   United States  ...  2015     1     169.0
2755     54727    1/1/2015   United States  ...  2015     1     116.1
2756     54728    1/1/2015         Germany  ...  2015     1     129.0
2757     54729    1/1/2015  United Kingdom  ...  2015     1     139.0
...        ...         ...             ...  ...   ...   ...       ...
7596     59192  12/31/2015   United States  ...  2015    12      79.5
7597     59193  12/31/2015   United States  ...  2015    12     139.0
7598     59194  12/31/2015         Germany  ...  2015    12     159.0
7599     59195  12/31/2015         Germany  ...  2015    12     149.0
7600     59196  12/31/2015   United States  ...  2015    12     179.0

[4848 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>df_pd.query(<span class="st">'COUNTRY== "United States" | COUNTRY == "Canada"'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
1         52390    1/1/2014  United States  ...  2014     1     159.2
2         52391    1/1/2014         Canada  ...  2014     1     119.2
3         52392    1/1/2014  United States  ...  2014     1     159.0
5         52394    1/1/2014  United States  ...  2014     1     159.0
7         52396    1/2/2014         Canada  ...  2014     1     169.0
...         ...         ...            ...  ...   ...   ...       ...
14959     65770  12/31/2016  United States  ...  2016    12     119.2
14960     65771  12/31/2016  United States  ...  2016    12     189.0
14961     65772  12/31/2016  United States  ...  2016    12     129.0
14963     65774  12/31/2016  United States  ...  2016    12     149.0
14964     65775  12/31/2016         Canada  ...  2016    12     125.3

[8838 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>df_pd.query(<span class="st">"COUNTRY in ['United States', 'Canada']"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
1         52390    1/1/2014  United States  ...  2014     1     159.2
2         52391    1/1/2014         Canada  ...  2014     1     119.2
3         52392    1/1/2014  United States  ...  2014     1     159.0
5         52394    1/1/2014  United States  ...  2014     1     159.0
7         52396    1/2/2014         Canada  ...  2014     1     169.0
...         ...         ...            ...  ...   ...   ...       ...
14959     65770  12/31/2016  United States  ...  2016    12     119.2
14960     65771  12/31/2016  United States  ...  2016    12     189.0
14961     65772  12/31/2016  United States  ...  2016    12     129.0
14963     65774  12/31/2016  United States  ...  2016    12     149.0
14964     65775  12/31/2016         Canada  ...  2016    12     125.3

[8838 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>df_pd.query(<span class="st">"COUNTRY== 'United States' &amp; YEAR== 2016"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
7610      59206    1/2/2016  United States  ...  2016     1     132.3
7613      59209    1/2/2016  United States  ...  2016     1     127.2
7617      59213    1/2/2016  United States  ...  2016     1     125.3
7618      59214    1/2/2016  United States  ...  2016     1     151.2
7619      59214    1/2/2016  United States  ...  2016     1     151.2
...         ...         ...            ...  ...   ...   ...       ...
14956     65767  12/31/2016  United States  ...  2016    12     139.0
14959     65770  12/31/2016  United States  ...  2016    12     119.2
14960     65771  12/31/2016  United States  ...  2016    12     189.0
14961     65772  12/31/2016  United States  ...  2016    12     129.0
14963     65774  12/31/2016  United States  ...  2016    12     149.0

[2935 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>df_pd.query(<span class="st">"COUNTRY== 'United States' &amp; YEAR in [2015,2016]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
2753      54725    1/1/2015  United States  ...  2015     1     179.0
2754      54726    1/1/2015  United States  ...  2015     1     169.0
2755      54727    1/1/2015  United States  ...  2015     1     116.1
2761      54733    1/2/2015  United States  ...  2015     1     179.0
2766      54738    1/2/2015  United States  ...  2015     1     199.0
...         ...         ...            ...  ...   ...   ...       ...
14956     65767  12/31/2016  United States  ...  2016    12     139.0
14959     65770  12/31/2016  United States  ...  2016    12     119.2
14960     65771  12/31/2016  United States  ...  2016    12     189.0
14961     65772  12/31/2016  United States  ...  2016    12     129.0
14963     65774  12/31/2016  United States  ...  2016    12     149.0

[4859 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>df_pd[df_pd[<span class="st">'COUNTRY'</span>] <span class="op">==</span> <span class="st">"United States"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
1         52390    1/1/2014  United States  ...  2014     1     159.2
3         52392    1/1/2014  United States  ...  2014     1     159.0
5         52394    1/1/2014  United States  ...  2014     1     159.0
8         52397    1/2/2014  United States  ...  2014     1     139.0
10        52399    1/2/2014  United States  ...  2014     1     129.0
...         ...         ...            ...  ...   ...   ...       ...
14956     65767  12/31/2016  United States  ...  2016    12     139.0
14959     65770  12/31/2016  United States  ...  2016    12     119.2
14960     65771  12/31/2016  United States  ...  2016    12     189.0
14961     65772  12/31/2016  United States  ...  2016    12     129.0
14963     65774  12/31/2016  United States  ...  2016    12     149.0

[5886 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[(df_pd[<span class="st">'COUNTRY'</span>]<span class="op">==</span><span class="st">"United States"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
1         52390    1/1/2014  United States  ...  2014     1     159.2
3         52392    1/1/2014  United States  ...  2014     1     159.0
5         52394    1/1/2014  United States  ...  2014     1     159.0
8         52397    1/2/2014  United States  ...  2014     1     139.0
10        52399    1/2/2014  United States  ...  2014     1     129.0
...         ...         ...            ...  ...   ...   ...       ...
14956     65767  12/31/2016  United States  ...  2016    12     139.0
14959     65770  12/31/2016  United States  ...  2016    12     119.2
14960     65771  12/31/2016  United States  ...  2016    12     189.0
14961     65772  12/31/2016  United States  ...  2016    12     129.0
14963     65774  12/31/2016  United States  ...  2016    12     149.0

[5886 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[df_pd[<span class="st">'COUNTRY'</span>].isin([<span class="st">"United States"</span>, <span class="st">"Canada"</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
1         52390    1/1/2014  United States  ...  2014     1     159.2
2         52391    1/1/2014         Canada  ...  2014     1     119.2
3         52392    1/1/2014  United States  ...  2014     1     159.0
5         52394    1/1/2014  United States  ...  2014     1     159.0
7         52396    1/2/2014         Canada  ...  2014     1     169.0
...         ...         ...            ...  ...   ...   ...       ...
14959     65770  12/31/2016  United States  ...  2016    12     119.2
14960     65771  12/31/2016  United States  ...  2016    12     189.0
14961     65772  12/31/2016  United States  ...  2016    12     129.0
14963     65774  12/31/2016  United States  ...  2016    12     149.0
14964     65775  12/31/2016         Canada  ...  2016    12     125.3

[8838 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[df_pd[<span class="st">'COUNTRY'</span>]<span class="op">\</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a> .isin([<span class="st">"United States"</span>, <span class="st">"Canada"</span>]) <span class="op">&amp;</span>(df_pd[<span class="st">'YEAR'</span>]<span class="op">==</span><span class="dv">2014</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
1        52390    1/1/2014  United States  ...  2014     1     159.2
2        52391    1/1/2014         Canada  ...  2014     1     119.2
3        52392    1/1/2014  United States  ...  2014     1     159.0
5        52394    1/1/2014  United States  ...  2014     1     159.0
7        52396    1/2/2014         Canada  ...  2014     1     169.0
...        ...         ...            ...  ...   ...   ...       ...
2739     54713  12/30/2014  United States  ...  2014    12     189.0
2745     54718  12/31/2014         Canada  ...  2014    12     151.2
2746     54719  12/31/2014  United States  ...  2014    12     199.0
2748     54721  12/31/2014         Canada  ...  2014    12      74.5
2749     54722  12/31/2014  United States  ...  2014    12     118.3

[1649 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[(df_pd[<span class="st">'COUNTRY'</span>]<span class="op">==</span><span class="st">"United States"</span>) <span class="op">&amp;</span>(df_pd [<span class="st">"YEAR"</span>] <span class="op">==</span><span class="dv">2014</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
1        52390    1/1/2014  United States  ...  2014     1     159.2
3        52392    1/1/2014  United States  ...  2014     1     159.0
5        52394    1/1/2014  United States  ...  2014     1     159.0
8        52397    1/2/2014  United States  ...  2014     1     139.0
10       52399    1/2/2014  United States  ...  2014     1     129.0
...        ...         ...            ...  ...   ...   ...       ...
2731     54705  12/29/2014  United States  ...  2014    12     179.0
2734     54708  12/30/2014  United States  ...  2014    12     159.0
2739     54713  12/30/2014  United States  ...  2014    12     189.0
2746     54719  12/31/2014  United States  ...  2014    12     199.0
2749     54722  12/31/2014  United States  ...  2014    12     118.3

[1027 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[df_pd[<span class="st">'COUNTRY'</span>] <span class="op">==</span> <span class="st">"United States"</span>, :]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE        COUNTRY  ...  YEAR MONTH SALEPRICE
1         52390    1/1/2014  United States  ...  2014     1     159.2
3         52392    1/1/2014  United States  ...  2014     1     159.0
5         52394    1/1/2014  United States  ...  2014     1     159.0
8         52397    1/2/2014  United States  ...  2014     1     139.0
10        52399    1/2/2014  United States  ...  2014     1     129.0
...         ...         ...            ...  ...   ...   ...       ...
14956     65767  12/31/2016  United States  ...  2016    12     139.0
14959     65770  12/31/2016  United States  ...  2016    12     119.2
14960     65771  12/31/2016  United States  ...  2016    12     189.0
14961     65772  12/31/2016  United States  ...  2016    12     129.0
14963     65774  12/31/2016  United States  ...  2016    12     149.0

[5886 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>    df_pd[<span class="st">'COUNTRY'</span>]<span class="op">==</span><span class="st">'United States'</span>,</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'COUNTRY'</span>, <span class="st">"UNITPRICE"</span>, <span class="st">"SALEPRICE"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             COUNTRY  UNITPRICE  SALEPRICE
1      United States        199      159.2
3      United States        159      159.0
5      United States        159      159.0
8      United States        139      139.0
10     United States        129      129.0
...              ...        ...        ...
14956  United States        139      139.0
14959  United States        149      119.2
14960  United States        189      189.0
14961  United States        129      129.0
14963  United States        149      149.0

[5886 rows x 3 columns]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="nd-verb---arrange-function" class="level3" data-number="3.9.2">
<h3 data-number="3.9.2" class="anchored" data-anchor-id="nd-verb---arrange-function"><span class="header-section-number">3.9.2</span> 2nd Verb - arrange () Function</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In arrange functions, we order the rows of a data frame by the values of given columns. It is like sorting or odering the data.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(DATE)     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 14
   INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     52389 2014-01-01 United Kingd… 2152      UK2   Male      11   44         
 2     52390 2014-01-01 United States 2230      US15  Male      11.5 44-45      
 3     52391 2014-01-01 Canada        2160      CAN7  Male       9.5 42-43      
 4     52392 2014-01-01 United States 2234      US6   Female     9.5 40         
 5     52393 2014-01-01 United Kingd… 2222      UK4   Female     9   39-40      
 6     52394 2014-01-01 United States 2173      US15  Male      10.5 43-44      
 7     52395 2014-01-02 Germany       2200      GER2  Female     9   39-40      
 8     52396 2014-01-02 Canada        2238      CAN5  Male      10   43         
 9     52397 2014-01-02 United States 2191      US13  Male      10.5 43-44      
10     52398 2014-01-02 United Kingd… 2237      UK1   Female     9   39-40      
# ℹ 14,957 more rows
# ℹ 6 more variables: SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;,
#   YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(DATE))     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 14
   INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     65765 2016-12-31 Canada        2199      CAN5  Male      11   44         
 2     65766 2016-12-31 United Kingd… 2202      UK1   Male       9.5 42-43      
 3     65767 2016-12-31 United States 2147      US15  Male       9.5 42-43      
 4     65768 2016-12-31 Germany       2205      GER1  Female     7.5 38         
 5     65769 2016-12-31 Germany       2210      GER2  Male      10.5 43-44      
 6     65770 2016-12-31 United States 2178      US13  Female     8   38-39      
 7     65771 2016-12-31 United States 2209      US15  Male       9   42         
 8     65772 2016-12-31 United States 2168      US13  Male       8   41         
 9     65773 2016-12-31 United Kingd… 2154      UK2   Male       9.5 42-43      
10     65774 2016-12-31 United States 2181      US12  Female    12   42-43      
# ℹ 14,957 more rows
# ℹ 6 more variables: SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;,
#   YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(MONTH, SALEPRICE)     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 14
   INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     52414 2014-01-05 Germany       2239      GER2  Female     8.5 39         
 2     52533 2014-01-25 Canada        2151      CAN5  Female     9   39-40      
 3     52539 2014-01-26 United Kingd… 2227      UK1   Female     7.5 38         
 4     52548 2014-01-27 United Kingd… 2224      UK3   Male       8.5 41-42      
 5     54734 2015-01-02 Germany       2222      GER3  Female     7.5 38         
 6     54772 2015-01-06 Germany       2159      GER1  Male      12   45         
 7     54864 2015-01-16 Germany       2239      GER2  Female     7.5 38         
 8     54989 2015-01-28 Canada        2152      CAN6  Female     8   38-39      
 9     59220 2016-01-03 Canada        2202      CAN7  Male      10.5 43-44      
10     59242 2016-01-04 United States 2231      US9   Female     9   39-40      
# ℹ 14,957 more rows
# ℹ 6 more variables: SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;,
#   YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>df_pd.sort_values(by <span class="op">=</span>[<span class="st">'DATE'</span>])   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO      DATE         COUNTRY  ...  YEAR MONTH SALEPRICE
0         52389  1/1/2014  United Kingdom  ...  2014     1     159.0
1         52390  1/1/2014   United States  ...  2014     1     159.2
2         52391  1/1/2014          Canada  ...  2014     1     119.2
3         52392  1/1/2014   United States  ...  2014     1     159.0
4         52393  1/1/2014  United Kingdom  ...  2014     1     159.0
...         ...       ...             ...  ...   ...   ...       ...
12785     63807  9/9/2016         Germany  ...  2016     9     189.0
12786     63808  9/9/2016         Germany  ...  2016     9     129.0
12787     63809  9/9/2016   United States  ...  2016     9     179.0
12789     63811  9/9/2016   United States  ...  2016     9     125.3
12779     63802  9/9/2016   United States  ...  2016     9     125.1

[14967 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>df_pd.sort_values(by <span class="op">=</span>[<span class="st">'DATE'</span>], ascending <span class="op">=</span> <span class="va">False</span>)   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO      DATE         COUNTRY  ...  YEAR MONTH SALEPRICE
12778     63802  9/9/2016   United States  ...  2016     9     139.0
12784     63806  9/9/2016         Germany  ...  2016     9     139.0
12773     63797  9/9/2016         Germany  ...  2016     9      90.3
12772     63796  9/9/2016         Germany  ...  2016     9     111.3
12771     63795  9/9/2016         Germany  ...  2016     9     152.1
...         ...       ...             ...  ...   ...   ...       ...
5         52394  1/1/2014   United States  ...  2014     1     159.0
4         52393  1/1/2014  United Kingdom  ...  2014     1     159.0
3         52392  1/1/2014   United States  ...  2014     1     159.0
2         52391  1/1/2014          Canada  ...  2014     1     119.2
0         52389  1/1/2014  United Kingdom  ...  2014     1     159.0

[14967 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>df_pd.sort_values(by <span class="op">=</span>[<span class="st">'MONTH'</span>, <span class="st">'SALEPRICE'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO       DATE         COUNTRY  ...  YEAR MONTH SALEPRICE
33        52414   1/5/2014         Germany  ...  2014     1      64.5
177       52533  1/25/2014          Canada  ...  2014     1      64.5
185       52539  1/26/2014  United Kingdom  ...  2014     1      64.5
194       52548  1/27/2014  United Kingdom  ...  2014     1      64.5
2762      54734   1/2/2015         Germany  ...  2015     1      64.5
...         ...        ...             ...  ...   ...   ...       ...
13245     64219  9/29/2016  United Kingdom  ...  2016     9     199.0
13246     64220  9/29/2016   United States  ...  2016     9     199.0
13248     64222  9/29/2016   United States  ...  2016     9     199.0
13251     64224  9/29/2016         Germany  ...  2016     9     199.0
13272     64244  9/30/2016   United States  ...  2016     9     199.0

[14967 rows x 14 columns]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="rd-verb---select-function" class="level3" data-number="3.9.3">
<h3 data-number="3.9.3" class="anchored" data-anchor-id="rd-verb---select-function"><span class="header-section-number">3.9.3</span> 3rd Verb - select () Function</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Select functions help to select or obtain columns from the data frame. When there are a lot of columns in our dataset, select functions become very useful.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">select</span>(DATE, UNITPRICE, DISCOUNT)   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 3
   DATE       UNITPRICE DISCOUNT
   &lt;date&gt;         &lt;dbl&gt;    &lt;dbl&gt;
 1 2014-01-01       159      0  
 2 2014-01-01       199      0.2
 3 2014-01-01       149      0.2
 4 2014-01-01       159      0  
 5 2014-01-01       159      0  
 6 2014-01-01       159      0  
 7 2014-01-02       179      0  
 8 2014-01-02       169      0  
 9 2014-01-02       139      0  
10 2014-01-02       149      0  
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 6
   INVOICENO DATE       SHOP  GENDER SIZE_US SIZE_EUROPE
       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;      
 1     52389 2014-01-01 UK2   Male      11   44         
 2     52390 2014-01-01 US15  Male      11.5 44-45      
 3     52391 2014-01-01 CAN7  Male       9.5 42-43      
 4     52392 2014-01-01 US6   Female     9.5 40         
 5     52393 2014-01-01 UK4   Female     9   39-40      
 6     52394 2014-01-01 US15  Male      10.5 43-44      
 7     52395 2014-01-02 GER2  Female     9   39-40      
 8     52396 2014-01-02 CAN5  Male      10   43         
 9     52397 2014-01-02 US13  Male      10.5 43-44      
10     52398 2014-01-02 UK1   Female     9   39-40      
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">'SIZE'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 3
   SIZE_US SIZE_EUROPE SIZE_UK
     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;
 1    11   44             10.5
 2    11.5 44-45          11  
 3     9.5 42-43           9  
 4     9.5 40              7.5
 5     9   39-40           7  
 6    10.5 43-44          10  
 7     9   39-40           7  
 8    10   43              9.5
 9    10.5 43-44          10  
10     9   39-40           7  
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">'PRICE'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 2
   UNITPRICE SALEPRICE
       &lt;dbl&gt;     &lt;dbl&gt;
 1       159      159 
 2       199      159.
 3       149      119.
 4       159      159 
 5       159      159 
 6       159      159 
 7       179      179 
 8       169      169 
 9       139      139 
10       149      149 
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"_"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 3
   SIZE_US SIZE_EUROPE SIZE_UK
     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;
 1    11   44             10.5
 2    11.5 44-45          11  
 3     9.5 42-43           9  
 4     9.5 40              7.5
 5     9   39-40           7  
 6    10.5 43-44          10  
 7     9   39-40           7  
 8    10   43              9.5
 9    10.5 43-44          10  
10     9   39-40           7  
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"SIZE"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 3
   SIZE_US SIZE_EUROPE SIZE_UK
     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;
 1    11   44             10.5
 2    11.5 44-45          11  
 3     9.5 42-43           9  
 4     9.5 40              7.5
 5     9   39-40           7  
 6    10.5 43-44          10  
 7     9   39-40           7  
 8    10   43              9.5
 9    10.5 43-44          10  
10     9   39-40           7  
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"PRICE$"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 2
   UNITPRICE SALEPRICE
       &lt;dbl&gt;     &lt;dbl&gt;
 1       159      159 
 2       199      159.
 3       149      119.
 4       159      159 
 5       159      159 
 6       159      159 
 7       179      179 
 8       169      169 
 9       139      139 
10       149      149 
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># starts with letter S</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"^S"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 5
   SHOP  SIZE_US SIZE_EUROPE SIZE_UK SALEPRICE
   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;
 1 UK2      11   44             10.5      159 
 2 US15     11.5 44-45          11        159.
 3 CAN7      9.5 42-43           9        119.
 4 US6       9.5 40              7.5      159 
 5 UK4       9   39-40           7        159 
 6 US15     10.5 43-44          10        159 
 7 GER2      9   39-40           7        179 
 8 CAN5     10   43              9.5      169 
 9 US13     10.5 43-44          10        139 
10 UK1       9   39-40           7        149 
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">where</span>(is.character))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 5
   COUNTRY        PRODUCTID SHOP  GENDER SIZE_EUROPE
   &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;      
 1 United Kingdom 2152      UK2   Male   44         
 2 United States  2230      US15  Male   44-45      
 3 Canada         2160      CAN7  Male   42-43      
 4 United States  2234      US6   Female 40         
 5 United Kingdom 2222      UK4   Female 39-40      
 6 United States  2173      US15  Male   43-44      
 7 Germany        2200      GER2  Female 39-40      
 8 Canada         2238      CAN5  Male   43         
 9 United States  2191      US13  Male   43-44      
10 United Kingdom 2237      UK1   Female 39-40      
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 8
   INVOICENO SIZE_US SIZE_UK UNITPRICE DISCOUNT  YEAR MONTH SALEPRICE
       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
 1     52389    11      10.5       159      0    2014     1      159 
 2     52390    11.5    11         199      0.2  2014     1      159.
 3     52391     9.5     9         149      0.2  2014     1      119.
 4     52392     9.5     7.5       159      0    2014     1      159 
 5     52393     9       7         159      0    2014     1      159 
 6     52394    10.5    10         159      0    2014     1      159 
 7     52395     9       7         179      0    2014     1      179 
 8     52396    10       9.5       169      0    2014     1      169 
 9     52397    10.5    10         139      0    2014     1      139 
10     52398     9       7         149      0    2014     1      149 
# ℹ 14,957 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(MONTH, YEAR, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 14
   MONTH  YEAR INVOICENO DATE       COUNTRY       PRODUCTID SHOP  GENDER SIZE_US
   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;
 1     1  2014     52389 2014-01-01 United Kingd… 2152      UK2   Male      11  
 2     1  2014     52390 2014-01-01 United States 2230      US15  Male      11.5
 3     1  2014     52391 2014-01-01 Canada        2160      CAN7  Male       9.5
 4     1  2014     52392 2014-01-01 United States 2234      US6   Female     9.5
 5     1  2014     52393 2014-01-01 United Kingd… 2222      UK4   Female     9  
 6     1  2014     52394 2014-01-01 United States 2173      US15  Male      10.5
 7     1  2014     52395 2014-01-02 Germany       2200      GER2  Female     9  
 8     1  2014     52396 2014-01-02 Canada        2238      CAN5  Male      10  
 9     1  2014     52397 2014-01-02 United States 2191      US13  Male      10.5
10     1  2014     52398 2014-01-02 United Kingd… 2237      UK1   Female     9  
# ℹ 14,957 more rows
# ℹ 5 more variables: SIZE_EUROPE &lt;chr&gt;, SIZE_UK &lt;dbl&gt;, UNITPRICE &lt;dbl&gt;,
#   DISCOUNT &lt;dbl&gt;, SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># any_of () vs all_of ()</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">any_of</span>(<span class="fu">c</span>(<span class="st">"PRICE"</span>, <span class="st">"SIZE"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dropping columns </span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>DATE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,967 × 13
   INVOICENO COUNTRY        PRODUCTID SHOP  GENDER SIZE_US SIZE_EUROPE SIZE_UK
       &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;
 1     52389 United Kingdom 2152      UK2   Male      11   44             10.5
 2     52390 United States  2230      US15  Male      11.5 44-45          11  
 3     52391 Canada         2160      CAN7  Male       9.5 42-43           9  
 4     52392 United States  2234      US6   Female     9.5 40              7.5
 5     52393 United Kingdom 2222      UK4   Female     9   39-40           7  
 6     52394 United States  2173      US15  Male      10.5 43-44          10  
 7     52395 Germany        2200      GER2  Female     9   39-40           7  
 8     52396 Canada         2238      CAN5  Male      10   43              9.5
 9     52397 United States  2191      US13  Male      10.5 43-44          10  
10     52398 United Kingdom 2237      UK1   Female     9   39-40           7  
# ℹ 14,957 more rows
# ℹ 5 more variables: UNITPRICE &lt;dbl&gt;, DISCOUNT &lt;dbl&gt;, YEAR &lt;dbl&gt;, MONTH &lt;dbl&gt;,
#   SALEPRICE &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>df_pd[<span class="st">'DATE'</span>]   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0          1/1/2014
1          1/1/2014
2          1/1/2014
3          1/1/2014
4          1/1/2014
            ...    
14962    12/31/2016
14963    12/31/2016
14964    12/31/2016
14965    12/31/2016
14966    12/31/2016
Name: DATE, Length: 14967, dtype: object</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>df_pd[[<span class="st">'DATE'</span>, <span class="st">'UNITPRICE'</span>]]   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             DATE  UNITPRICE
0        1/1/2014        159
1        1/1/2014        199
2        1/1/2014        149
3        1/1/2014        159
4        1/1/2014        159
...           ...        ...
14962  12/31/2016        139
14963  12/31/2016        149
14964  12/31/2016        179
14965  12/31/2016        199
14966  12/31/2016        139

[14967 rows x 2 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[:,[<span class="st">'DATE'</span>, <span class="st">'UNITPRICE'</span>]]   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             DATE  UNITPRICE
0        1/1/2014        159
1        1/1/2014        199
2        1/1/2014        149
3        1/1/2014        159
4        1/1/2014        159
...           ...        ...
14962  12/31/2016        139
14963  12/31/2016        149
14964  12/31/2016        179
14965  12/31/2016        199
14966  12/31/2016        139

[14967 rows x 2 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>df_pd.iloc[:,<span class="dv">5</span>:<span class="dv">8</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       GENDER  SIZE_US SIZE_EUROPE
0        Male     11.0          44
1        Male     11.5       44-45
2        Male      9.5       42-43
3      Female      9.5          40
4      Female      9.0       39-40
...       ...      ...         ...
14962    Male      9.5       42-43
14963  Female     12.0       42-43
14964    Male     10.5       43-44
14965  Female      9.5          40
14966  Female      6.5          37

[14967 rows x 3 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>df_pd.iloc[:,[<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">8</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      PRODUCTID  GENDER  SIZE_UK
0          2152    Male     10.5
1          2230    Male     11.0
2          2160    Male      9.0
3          2234  Female      7.5
4          2222  Female      7.0
...         ...     ...      ...
14962      2154    Male      9.0
14963      2181  Female     10.0
14964      2203    Male     10.0
14965      2231  Female      7.5
14966      2156  Female      4.5

[14967 rows x 3 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>df_pd.<span class="bu">filter</span>([<span class="st">'YEAR'</span>,<span class="st">'SALEPRICE'</span>, <span class="st">'DISCOUNT'</span>, <span class="st">'UNITPRICE'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       YEAR  SALEPRICE  DISCOUNT  UNITPRICE
0      2014      159.0       0.0        159
1      2014      159.2       0.2        199
2      2014      119.2       0.2        149
3      2014      159.0       0.0        159
4      2014      159.0       0.0        159
...     ...        ...       ...        ...
14962  2016      139.0       0.0        139
14963  2016      149.0       0.0        149
14964  2016      125.3       0.3        179
14965  2016      199.0       0.0        199
14966  2016      125.1       0.1        139

[14967 rows x 4 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>df_pd.<span class="bu">filter</span>([<span class="st">'YEAR'</span>,<span class="st">'SALEPRICE'</span>, <span class="st">'DISCOUNT'</span>, <span class="st">'UNITPRICE'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       YEAR  SALEPRICE  DISCOUNT  UNITPRICE
0      2014      159.0       0.0        159
1      2014      159.2       0.2        199
2      2014      119.2       0.2        149
3      2014      159.0       0.0        159
4      2014      159.0       0.0        159
...     ...        ...       ...        ...
14962  2016      139.0       0.0        139
14963  2016      149.0       0.0        149
14964  2016      125.3       0.3        179
14965  2016      199.0       0.0        199
14966  2016      125.1       0.1        139

[14967 rows x 4 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a> <span class="co">#RegularExpression(Regex)</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>df_pd.<span class="bu">filter</span>(regex <span class="op">=</span><span class="st">"PRICE$"</span>) <span class="co">#Ends with Price</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       UNITPRICE  SALEPRICE
0            159      159.0
1            199      159.2
2            149      119.2
3            159      159.0
4            159      159.0
...          ...        ...
14962        139      139.0
14963        149      149.0
14964        179      125.3
14965        199      199.0
14966        139      125.1

[14967 rows x 2 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>df_pd.<span class="bu">filter</span>(regex <span class="op">=</span><span class="st">"ˆSIZE"</span>) <span class="co">#Starts with SIZE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Empty DataFrame
Columns: []
Index: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, ...]

[14967 rows x 0 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>df_pd.<span class="bu">filter</span>(regex <span class="op">=</span><span class="st">"PRICE"</span>) <span class="co">#Contains the word Price</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       UNITPRICE  SALEPRICE
0            159      159.0
1            199      159.2
2            149      119.2
3            159      159.0
4            159      159.0
...          ...        ...
14962        139      139.0
14963        149      149.0
14964        179      125.3
14965        199      199.0
14966        139      125.1

[14967 rows x 2 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>df_pd.select_dtypes(<span class="st">'object'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE         COUNTRY  ...  GENDER SIZE_EUROPE MONTH
0         52389    1/1/2014  United Kingdom  ...    Male          44     1
1         52390    1/1/2014   United States  ...    Male       44-45     1
2         52391    1/1/2014          Canada  ...    Male       42-43     1
3         52392    1/1/2014   United States  ...  Female          40     1
4         52393    1/1/2014  United Kingdom  ...  Female       39-40     1
...         ...         ...             ...  ...     ...         ...   ...
14962     65773  12/31/2016  United Kingdom  ...    Male       42-43    12
14963     65774  12/31/2016   United States  ...  Female       42-43    12
14964     65775  12/31/2016          Canada  ...    Male       43-44    12
14965     65776  12/31/2016         Germany  ...  Female          40    12
14966     65777  12/31/2016         Germany  ...  Female          37    12

[14967 rows x 8 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>df_pd.select_dtypes(<span class="st">'int'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       UNITPRICE  YEAR
0            159  2014
1            199  2014
2            149  2014
3            159  2014
4            159  2014
...          ...   ...
14962        139  2016
14963        149  2016
14964        179  2016
14965        199  2016
14966        139  2016

[14967 rows x 2 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[:,df_pd.columns.<span class="bu">str</span>.startswith(<span class="st">'SIZE'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       SIZE_US SIZE_EUROPE  SIZE_UK
0         11.0          44     10.5
1         11.5       44-45     11.0
2          9.5       42-43      9.0
3          9.5          40      7.5
4          9.0       39-40      7.0
...        ...         ...      ...
14962      9.5       42-43      9.0
14963     12.0       42-43     10.0
14964     10.5       43-44     10.0
14965      9.5          40      7.5
14966      6.5          37      4.5

[14967 rows x 3 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[:,df_pd.columns.<span class="bu">str</span>.contains(<span class="st">'PRICE'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       UNITPRICE  SALEPRICE
0            159      159.0
1            199      159.2
2            149      119.2
3            159      159.0
4            159      159.0
...          ...        ...
14962        139      139.0
14963        149      149.0
14964        179      125.3
14965        199      199.0
14966        139      125.1

[14967 rows x 2 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>df_pd.loc[:,df_pd.columns.<span class="bu">str</span>.endswith(<span class="st">'PRICE'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       UNITPRICE  SALEPRICE
0            159      159.0
1            199      159.2
2            149      119.2
3            159      159.0
4            159      159.0
...          ...        ...
14962        139      139.0
14963        149      149.0
14964        179      125.3
14965        199      199.0
14966        139      125.1

[14967 rows x 2 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dropping columns </span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>df_pd.drop(columns <span class="op">=</span>[<span class="st">'SIZE_EUROPE'</span>, <span class="st">'SIZE_UK'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      INVOICENO        DATE         COUNTRY  ...  YEAR MONTH SALEPRICE
0         52389    1/1/2014  United Kingdom  ...  2014     1     159.0
1         52390    1/1/2014   United States  ...  2014     1     159.2
2         52391    1/1/2014          Canada  ...  2014     1     119.2
3         52392    1/1/2014   United States  ...  2014     1     159.0
4         52393    1/1/2014  United Kingdom  ...  2014     1     159.0
...         ...         ...             ...  ...   ...   ...       ...
14962     65773  12/31/2016  United Kingdom  ...  2016    12     139.0
14963     65774  12/31/2016   United States  ...  2016    12     149.0
14964     65775  12/31/2016          Canada  ...  2016    12     125.3
14965     65776  12/31/2016         Germany  ...  2016    12     199.0
14966     65777  12/31/2016         Germany  ...  2016    12     125.1

[14967 rows x 12 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dropping columns </span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a>df_pd.drop(columns <span class="op">=</span>[<span class="st">'SIZE_EUROPE'</span>, <span class="st">'SIZE_UK'</span>], axis<span class="op">=</span><span class="dv">1</span>)<span class="op">\</span></span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a>    .pipe(<span class="kw">lambda</span> x: x.info())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 12 columns):
 #   Column     Non-Null Count  Dtype  
---  ------     --------------  -----  
 0   INVOICENO  14967 non-null  object 
 1   DATE       14967 non-null  object 
 2   COUNTRY    14967 non-null  object 
 3   PRODUCTID  14967 non-null  object 
 4   SHOP       14967 non-null  object 
 5   GENDER     14967 non-null  object 
 6   SIZE_US    14967 non-null  float64
 7   UNITPRICE  14967 non-null  int64  
 8   DISCOUNT   14967 non-null  float64
 9   YEAR       14967 non-null  int64  
 10  MONTH      14967 non-null  object 
 11  SALEPRICE  14967 non-null  float64
dtypes: float64(3), int64(2), object(7)
memory usage: 1.4+ MB</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rearranging columns </span></span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Sorting Alphabetically</span></span>
<span id="cb181-3"><a href="#cb181-3" aria-hidden="true" tabindex="-1"></a>df_pd.reindex(<span class="bu">sorted</span>(df_pd.columns), axis <span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              COUNTRY        DATE  DISCOUNT  ... SIZE_US UNITPRICE  YEAR
0      United Kingdom    1/1/2014       0.0  ...    11.0       159  2014
1       United States    1/1/2014       0.2  ...    11.5       199  2014
2              Canada    1/1/2014       0.2  ...     9.5       149  2014
3       United States    1/1/2014       0.0  ...     9.5       159  2014
4      United Kingdom    1/1/2014       0.0  ...     9.0       159  2014
...               ...         ...       ...  ...     ...       ...   ...
14962  United Kingdom  12/31/2016       0.0  ...     9.5       139  2016
14963   United States  12/31/2016       0.0  ...    12.0       149  2016
14964          Canada  12/31/2016       0.3  ...    10.5       179  2016
14965         Germany  12/31/2016       0.0  ...     9.5       199  2016
14966         Germany  12/31/2016       0.1  ...     6.5       139  2016

[14967 rows x 14 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rearranging columns </span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Sorting As You Want (ASY)</span></span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a>col_first <span class="op">=</span> [<span class="st">'YEAR'</span>,<span class="st">'MONTH'</span>]</span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a>col_rest <span class="op">=</span> df_pd.columns.difference(col_first, sort<span class="op">=</span><span class="va">False</span>).to_list()</span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a>df_pd2 <span class="op">=</span> df_pd [col_first <span class="op">+</span>col_rest]</span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a>df_pd2.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 14 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   YEAR         14967 non-null  int64  
 1   MONTH        14967 non-null  object 
 2   INVOICENO    14967 non-null  object 
 3   DATE         14967 non-null  object 
 4   COUNTRY      14967 non-null  object 
 5   PRODUCTID    14967 non-null  object 
 6   SHOP         14967 non-null  object 
 7   GENDER       14967 non-null  object 
 8   SIZE_US      14967 non-null  float64
 9   SIZE_EUROPE  14967 non-null  object 
 10  SIZE_UK      14967 non-null  float64
 11  UNITPRICE    14967 non-null  int64  
 12  DISCOUNT     14967 non-null  float64
 13  SALEPRICE    14967 non-null  float64
dtypes: float64(4), int64(2), object(8)
memory usage: 1.6+ MB</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="th-verb---rename-function" class="level3" data-number="3.9.4">
<h3 data-number="3.9.4" class="anchored" data-anchor-id="th-verb---rename-function"><span class="header-section-number">3.9.4</span> 4th Verb - rename () Function</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">INVOICE =</span> INVOICENO,</span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">PRODUCT =</span> PRODUCTID) <span class="sc">|&gt;</span></span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 14,967
Columns: 14
$ INVOICE     &lt;dbl&gt; 52389, 52390, 52391, 52392, 52393, 52394, 52395, 52396, 52…
$ DATE        &lt;date&gt; 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-0…
$ COUNTRY     &lt;chr&gt; "United Kingdom", "United States", "Canada", "United State…
$ PRODUCT     &lt;chr&gt; "2152", "2230", "2160", "2234", "2222", "2173", "2200", "2…
$ SHOP        &lt;chr&gt; "UK2", "US15", "CAN7", "US6", "UK4", "US15", "GER2", "CAN5…
$ GENDER      &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Male", "Femal…
$ SIZE_US     &lt;dbl&gt; 11.0, 11.5, 9.5, 9.5, 9.0, 10.5, 9.0, 10.0, 10.5, 9.0, 10.…
$ SIZE_EUROPE &lt;chr&gt; "44", "44-45", "42-43", "40", "39-40", "43-44", "39-40", "…
$ SIZE_UK     &lt;dbl&gt; 10.5, 11.0, 9.0, 7.5, 7.0, 10.0, 7.0, 9.5, 10.0, 7.0, 9.5,…
$ UNITPRICE   &lt;dbl&gt; 159, 199, 149, 159, 159, 159, 179, 169, 139, 149, 129, 169…
$ DISCOUNT    &lt;dbl&gt; 0.0, 0.2, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1…
$ YEAR        &lt;dbl&gt; 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014…
$ MONTH       &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ SALEPRICE   &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0, 13…</code></pre>
</div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>(df_pd.rename(columns <span class="op">=</span> {<span class="st">"PRODUCTID"</span>: <span class="st">"PRODUCT"</span>, <span class="st">"INVOICENO"</span>: <span class="st">"INVOICE"</span>})</span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a>     .pipe(<span class="kw">lambda</span> x: x.info())</span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 14 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   INVOICE      14967 non-null  object 
 1   DATE         14967 non-null  object 
 2   COUNTRY      14967 non-null  object 
 3   PRODUCT      14967 non-null  object 
 4   SHOP         14967 non-null  object 
 5   GENDER       14967 non-null  object 
 6   SIZE_US      14967 non-null  float64
 7   SIZE_EUROPE  14967 non-null  object 
 8   SIZE_UK      14967 non-null  float64
 9   UNITPRICE    14967 non-null  int64  
 10  DISCOUNT     14967 non-null  float64
 11  YEAR         14967 non-null  int64  
 12  MONTH        14967 non-null  object 
 13  SALEPRICE    14967 non-null  float64
dtypes: float64(4), int64(2), object(8)
memory usage: 1.6+ MB</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="th-verb---mutate-function" class="level3" data-number="3.9.5">
<h3 data-number="3.9.5" class="anchored" data-anchor-id="th-verb---mutate-function"><span class="header-section-number">3.9.5</span> 5th Verb - mutate () Function</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">NECOLUMN =</span> <span class="dv">5</span>,</span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">SALESPRICE2 =</span> UNITPRICE<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>DISCOUNT)) <span class="sc">|&gt;</span></span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 14,967
Columns: 16
$ INVOICENO   &lt;dbl&gt; 52389, 52390, 52391, 52392, 52393, 52394, 52395, 52396, 52…
$ DATE        &lt;date&gt; 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-01, 2014-01-0…
$ COUNTRY     &lt;chr&gt; "United Kingdom", "United States", "Canada", "United State…
$ PRODUCTID   &lt;chr&gt; "2152", "2230", "2160", "2234", "2222", "2173", "2200", "2…
$ SHOP        &lt;chr&gt; "UK2", "US15", "CAN7", "US6", "UK4", "US15", "GER2", "CAN5…
$ GENDER      &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Male", "Femal…
$ SIZE_US     &lt;dbl&gt; 11.0, 11.5, 9.5, 9.5, 9.0, 10.5, 9.0, 10.0, 10.5, 9.0, 10.…
$ SIZE_EUROPE &lt;chr&gt; "44", "44-45", "42-43", "40", "39-40", "43-44", "39-40", "…
$ SIZE_UK     &lt;dbl&gt; 10.5, 11.0, 9.0, 7.5, 7.0, 10.0, 7.0, 9.5, 10.0, 7.0, 9.5,…
$ UNITPRICE   &lt;dbl&gt; 159, 199, 149, 159, 159, 159, 179, 169, 139, 149, 129, 169…
$ DISCOUNT    &lt;dbl&gt; 0.0, 0.2, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1…
$ YEAR        &lt;dbl&gt; 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014…
$ MONTH       &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ SALEPRICE   &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0, 13…
$ NECOLUMN    &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5…
$ SALESPRICE2 &lt;dbl&gt; 159.0, 159.2, 119.2, 159.0, 159.0, 159.0, 179.0, 169.0, 13…</code></pre>
</div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>df_pd[<span class="st">'NEWCOLUMN'</span>] <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a>df_pd.info()     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 15 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   INVOICENO    14967 non-null  object 
 1   DATE         14967 non-null  object 
 2   COUNTRY      14967 non-null  object 
 3   PRODUCTID    14967 non-null  object 
 4   SHOP         14967 non-null  object 
 5   GENDER       14967 non-null  object 
 6   SIZE_US      14967 non-null  float64
 7   SIZE_EUROPE  14967 non-null  object 
 8   SIZE_UK      14967 non-null  float64
 9   UNITPRICE    14967 non-null  int64  
 10  DISCOUNT     14967 non-null  float64
 11  YEAR         14967 non-null  int64  
 12  MONTH        14967 non-null  object 
 13  SALEPRICE    14967 non-null  float64
 14  NEWCOLUMN    14967 non-null  int64  
dtypes: float64(4), int64(3), object(8)
memory usage: 1.7+ MB</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>df_pd.drop(columns <span class="op">=</span> [<span class="st">'NEWCOLUMN'</span>], axis <span class="op">=</span> <span class="dv">1</span>, inplace <span class="op">=</span> <span class="va">True</span>)   </span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a>df_pd.info() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 14 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   INVOICENO    14967 non-null  object 
 1   DATE         14967 non-null  object 
 2   COUNTRY      14967 non-null  object 
 3   PRODUCTID    14967 non-null  object 
 4   SHOP         14967 non-null  object 
 5   GENDER       14967 non-null  object 
 6   SIZE_US      14967 non-null  float64
 7   SIZE_EUROPE  14967 non-null  object 
 8   SIZE_UK      14967 non-null  float64
 9   UNITPRICE    14967 non-null  int64  
 10  DISCOUNT     14967 non-null  float64
 11  YEAR         14967 non-null  int64  
 12  MONTH        14967 non-null  object 
 13  SALEPRICE    14967 non-null  float64
dtypes: float64(4), int64(2), object(8)
memory usage: 1.6+ MB</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>df_pd[<span class="st">'SALEPRICE2'</span>]<span class="op">=</span>df_pd[<span class="st">'UNITPRICE'</span>]<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>df_pd[<span class="st">'DISCOUNT'</span>])</span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>df_pd.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14967 entries, 0 to 14966
Data columns (total 15 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   INVOICENO    14967 non-null  object 
 1   DATE         14967 non-null  object 
 2   COUNTRY      14967 non-null  object 
 3   PRODUCTID    14967 non-null  object 
 4   SHOP         14967 non-null  object 
 5   GENDER       14967 non-null  object 
 6   SIZE_US      14967 non-null  float64
 7   SIZE_EUROPE  14967 non-null  object 
 8   SIZE_UK      14967 non-null  float64
 9   UNITPRICE    14967 non-null  int64  
 10  DISCOUNT     14967 non-null  float64
 11  YEAR         14967 non-null  int64  
 12  MONTH        14967 non-null  object 
 13  SALEPRICE    14967 non-null  float64
 14  SALEPRICE2   14967 non-null  float64
dtypes: float64(5), int64(2), object(8)
memory usage: 1.7+ MB</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the assign() function</span></span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a>(df_pd[[<span class="st">'PRODUCTID'</span>, <span class="st">'UNITPRICE'</span>, <span class="st">'DISCOUNT'</span>]]<span class="op">\</span></span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a>    .assign(SALEPRICE3 <span class="op">=</span><span class="kw">lambda</span> x: x.UNITPRICE<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>x.DISCOUNT)) <span class="op">\</span></span>
<span id="cb197-4"><a href="#cb197-4" aria-hidden="true" tabindex="-1"></a>    .head(<span class="dv">5</span>)</span>
<span id="cb197-5"><a href="#cb197-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  PRODUCTID  UNITPRICE  DISCOUNT  SALEPRICE3
0      2152        159       0.0       159.0
1      2230        199       0.2       159.2
2      2160        149       0.2       119.2
3      2234        159       0.0       159.0
4      2222        159       0.0       159.0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="th-verbs---group_by-and-summarize-functions" class="level3" data-number="3.9.6">
<h3 data-number="3.9.6" class="anchored" data-anchor-id="th-verbs---group_by-and-summarize-functions"><span class="header-section-number">3.9.6</span> 6th Verbs - group_by () and summarize () Functions</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#fig-splitapplycombine" class="quarto-xref">Figure&nbsp;<span>3.1</span></a> presents Split Apply Combine principle in <code>group_by ()</code> and <code>summarize ()</code> functions.</p>
<div id="fig-splitapplycombine" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-splitapplycombine-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/split-apply-combine.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-splitapplycombine-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.1: Split Apply Combine Principle
</figcaption>
</figure>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(COUNTRY) <span class="sc">|&gt;</span></span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span> (<span class="at">AVGPRICE =</span> <span class="fu">mean</span>(UNITPRICE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  COUNTRY        AVGPRICE
  &lt;chr&gt;             &lt;dbl&gt;
1 Canada             165.
2 Germany            164.
3 United Kingdom     166.
4 United States      163.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(COUNTRY) <span class="sc">|&gt;</span></span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span> (<span class="at">AVGPRICE =</span> <span class="fu">mean</span>(UNITPRICE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">AVGSALEPRICE =</span> <span class="fu">mean</span> (SALEPRICE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  COUNTRY        AVGPRICE AVGSALEPRICE
  &lt;chr&gt;             &lt;dbl&gt;        &lt;dbl&gt;
1 Canada             165.         144.
2 Germany            164.         144.
3 United Kingdom     166.         146.
4 United States      163.         144.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary Statistics </span></span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb203-3"><a href="#cb203-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(UNITPRICE, SALEPRICE) <span class="sc">%&gt;%</span></span>
<span id="cb203-4"><a href="#cb203-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), </span>
<span id="cb203-5"><a href="#cb203-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.fns =</span> <span class="fu">list</span>(<span class="at">N =</span> <span class="sc">~</span><span class="fu">length</span>(.),</span>
<span id="cb203-6"><a href="#cb203-6" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mean =</span> mean, </span>
<span id="cb203-7"><a href="#cb203-7" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Std =</span> sd,</span>
<span id="cb203-8"><a href="#cb203-8" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Median =</span> median, </span>
<span id="cb203-9"><a href="#cb203-9" aria-hidden="true" tabindex="-1"></a>                               <span class="at">P25 =</span> <span class="sc">~</span><span class="fu">quantile</span>(.,<span class="fl">0.25</span>), </span>
<span id="cb203-10"><a href="#cb203-10" aria-hidden="true" tabindex="-1"></a>                               <span class="at">P75 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.75</span>)</span>
<span id="cb203-11"><a href="#cb203-11" aria-hidden="true" tabindex="-1"></a>                               )</span>
<span id="cb203-12"><a href="#cb203-12" aria-hidden="true" tabindex="-1"></a>                   )) <span class="sc">%&gt;%</span></span>
<span id="cb203-13"><a href="#cb203-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_sep=</span><span class="st">'_'</span>, <span class="at">names_to=</span><span class="fu">c</span>(<span class="st">'variable'</span>, <span class="st">'.value'</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 7
  variable      N  Mean   Std Median   P25   P75
  &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 UNITPRICE 14967  164.  22.9    159  149    179
2 SALEPRICE 14967  144.  35.2    149  125.   169</code></pre>
</div>
</div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>df_pd.groupby([<span class="st">'COUNTRY'</span>])[<span class="st">'UNITPRICE'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>COUNTRY
Canada            164.691057
Germany           164.163934
United Kingdom    165.614853
United States     163.490316
Name: UNITPRICE, dtype: float64</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a>df_pd.groupby([<span class="st">'COUNTRY'</span>])[[<span class="st">'UNITPRICE'</span>, <span class="st">'SALEPRICE'</span>]].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 UNITPRICE   SALEPRICE
COUNTRY                               
Canada          164.691057  144.228963
Germany         164.163934  143.574658
United Kingdom  165.614853  145.505872
United States   163.490316  143.727421</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>df_pd.groupby([<span class="st">'COUNTRY'</span>]) [[<span class="st">'UNITPRICE'</span>, <span class="st">'SALEPRICE'</span>]] <span class="op">\</span></span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>    .agg(np.mean) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 UNITPRICE   SALEPRICE
COUNTRY                               
Canada          164.691057  144.228963
Germany         164.163934  143.574658
United Kingdom  165.614853  145.505872
United States   163.490316  143.727421</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>df_pd.groupby([<span class="st">'COUNTRY'</span>]) [[<span class="st">'UNITPRICE'</span>, <span class="st">'SALEPRICE'</span>]] <span class="op">\</span></span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>    .agg(<span class="st">"mean"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 UNITPRICE   SALEPRICE
COUNTRY                               
Canada          164.691057  144.228963
Germany         164.163934  143.574658
United Kingdom  165.614853  145.505872
United States   163.490316  143.727421</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>df_pd.groupby([<span class="st">'COUNTRY'</span>]) [[<span class="st">'UNITPRICE'</span>, <span class="st">'SALEPRICE'</span>]] <span class="op">\</span></span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>    .agg(AVG_UNITPRICE <span class="op">=</span>(<span class="st">"UNITPRICE"</span>,<span class="st">"mean"</span>),</span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a>    AVG_LISTPRICE <span class="op">=</span>(<span class="st">"SALEPRICE"</span>,<span class="st">"mean"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                AVG_UNITPRICE  AVG_LISTPRICE
COUNTRY                                     
Canada             164.691057     144.228963
Germany            164.163934     143.574658
United Kingdom     165.614853     145.505872
United States      163.490316     143.727421</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>df_pd.groupby([<span class="st">'COUNTRY'</span>]) [[<span class="st">'UNITPRICE'</span>, <span class="st">'SALEPRICE'</span>]] <span class="op">\</span></span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>    .agg(AVG_UNITPRICE <span class="op">=</span>(<span class="st">"UNITPRICE"</span>,<span class="st">"mean"</span>),</span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a>    AVG_LISTPRICE <span class="op">=</span>(<span class="st">"SALEPRICE"</span>,<span class="st">"mean"</span>),</span>
<span id="cb215-4"><a href="#cb215-4" aria-hidden="true" tabindex="-1"></a>    TOTALN<span class="op">=</span>(<span class="st">"SALEPRICE"</span>,<span class="st">"size"</span>), <span class="co"># size function for n</span></span>
<span id="cb215-5"><a href="#cb215-5" aria-hidden="true" tabindex="-1"></a>    TOTALOBS<span class="op">=</span>(<span class="st">"SALEPRICE"</span>,<span class="st">"count"</span>) <span class="co"># count function for n</span></span>
<span id="cb215-6"><a href="#cb215-6" aria-hidden="true" tabindex="-1"></a> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                AVG_UNITPRICE  AVG_LISTPRICE  TOTALN  TOTALOBS
COUNTRY                                                       
Canada             164.691057     144.228963    2952      2952
Germany            164.163934     143.574658    4392      4392
United Kingdom     165.614853     145.505872    1737      1737
United States      163.490316     143.727421    5886      5886</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining a Function</span></span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> percentile(n):</span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> percentile_(x):</span>
<span id="cb217-4"><a href="#cb217-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> x.quantile(n)</span>
<span id="cb217-5"><a href="#cb217-5" aria-hidden="true" tabindex="-1"></a>    percentile_.<span class="va">__name__</span> <span class="op">=</span><span class="st">'percentile_</span><span class="sc">{:02.0f}</span><span class="st">'</span>.<span class="bu">format</span>(n<span class="op">*</span><span class="dv">100</span>)</span>
<span id="cb217-6"><a href="#cb217-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> percentile_</span>
<span id="cb217-7"><a href="#cb217-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-8"><a href="#cb217-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Some summary statistics </span></span>
<span id="cb217-9"><a href="#cb217-9" aria-hidden="true" tabindex="-1"></a>df_pd[[<span class="st">'UNITPRICE'</span>, <span class="st">'SALEPRICE'</span>]] <span class="op">\</span></span>
<span id="cb217-10"><a href="#cb217-10" aria-hidden="true" tabindex="-1"></a>    .agg([<span class="st">'count'</span>, <span class="st">'mean'</span>, <span class="st">'std'</span>, <span class="st">'median'</span>, percentile(<span class="fl">0.25</span>), percentile (<span class="fl">0.75</span>)]) <span class="op">\</span></span>
<span id="cb217-11"><a href="#cb217-11" aria-hidden="true" tabindex="-1"></a>    .transpose() <span class="op">\</span></span>
<span id="cb217-12"><a href="#cb217-12" aria-hidden="true" tabindex="-1"></a>    .reset_index() <span class="op">\</span></span>
<span id="cb217-13"><a href="#cb217-13" aria-hidden="true" tabindex="-1"></a>    .rename(columns <span class="op">=</span> {<span class="st">"index"</span>: <span class="st">"variables"</span>, <span class="st">"percentile_25"</span>: <span class="st">"P25"</span>, <span class="st">"percentile_75"</span>: <span class="st">"P75"</span>, <span class="st">'count'</span>: <span class="st">"N"</span>}) <span class="op">\</span></span>
<span id="cb217-14"><a href="#cb217-14" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">round</span>(<span class="dv">3</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   variables        N     mean     std  median    P25    P75
0  UNITPRICE  14967.0  164.171  22.941   159.0  149.0  179.0
1  SALEPRICE  14967.0  143.988  35.181   149.0  125.1  169.0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary Statistics </span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>agg_dict <span class="op">=</span> {</span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"N"</span>: <span class="st">"count"</span>,</span>
<span id="cb219-4"><a href="#cb219-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mean'</span>:<span class="st">"mean"</span>,</span>
<span id="cb219-5"><a href="#cb219-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Std. Dev"</span> : <span class="st">"std"</span>,</span>
<span id="cb219-6"><a href="#cb219-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'P25'</span>: <span class="kw">lambda</span> x: x.quantile(<span class="fl">0.25</span>),</span>
<span id="cb219-7"><a href="#cb219-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Median'</span>: <span class="st">'median'</span>,</span>
<span id="cb219-8"><a href="#cb219-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'p75'</span>: <span class="kw">lambda</span> x: x.quantile(<span class="fl">0.75</span>)</span>
<span id="cb219-9"><a href="#cb219-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb219-10"><a href="#cb219-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-11"><a href="#cb219-11" aria-hidden="true" tabindex="-1"></a>df_pd[[<span class="st">'UNITPRICE'</span>, <span class="st">'SALEPRICE'</span>]].agg(agg_dict)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="reshaping-data" class="level2" data-number="3.10">
<h2 data-number="3.10" class="anchored" data-anchor-id="reshaping-data"><span class="header-section-number">3.10</span> Reshaping Data</h2>
<div style="text-align: justify">
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Before we discuss about reshaping of the data, we need to discuss about tidy format of the data. Data can come in many shapes, but not all shapes are useful for data analysis. In most cases, tidy format of the data is most useful for analysis. Therefore, if the data is untidy, we need to make it tidy first. There are three interrelated rules which make a dataset tidy <span class="citation" data-cites="wickham2023r">(<a href="references.html#ref-wickham2023r" role="doc-biblioref">Wickham, Çetinkaya-Rundel, and Grolemund 2023</a>)</span>. These rules are given below. <a href="#fig-tidyprinciple" class="quarto-xref">Figure&nbsp;<span>3.2</span></a> visually represents tidy principle.</p>
<ol type="1">
<li><p>Each variable must have its own column</p></li>
<li><p>Each observation must have its own row</p></li>
<li><p>Each value must have its own cell</p></li>
</ol>
<div id="fig-tidyprinciple" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tidyprinciple-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/tidy-1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tidyprinciple-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.2: Tidy Principle
</figcaption>
</figure>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For analysis, many times we need to change the format of our dataset and we call it reshaping. Data come primarily in two shapes -<em>wide</em> and <em>long</em>. Sometimes <em>wide</em> format is called “record” format and <em>long</em> format is called “stacked” format. In <code>wide</code> format data, there is one row for each subject (units of observation). Data is <code>long</code> when there are multiple rows for each subject (units of observations).</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This reshaping can be two types - a) long to wide and 2) wide to long. Long-to-wide means reshaping a long data, which has many rows, into wide format, which has many variables. In wide-to-long format, we do otherwise. For analytical purpose, reshaping data is useful; so, we need to know how to do the reshaping.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether a given dataset (e.g., <a href="#tbl-formatofdata" class="quarto-xref">Table&nbsp;<span>3.2</span></a>) is in wide or long format depends on our research questions (on what variables we are interested in and how we conceive of our data). If we are interested in variable <code>Temp</code> and <code>Month</code> variable is the unit of obsevation, then the dataset in <a href="#tbl-formatofdata" class="quarto-xref">Table&nbsp;<span>3.2</span></a> is in <code>long</code> format because <code>Month</code> is repeated in mutiple rows.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a>airquality <span class="ot">=</span> airquality</span>
<span id="cb220-2"><a href="#cb220-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-3"><a href="#cb220-3" aria-hidden="true" tabindex="-1"></a>examp <span class="ot">=</span> airquality <span class="sc">|&gt;</span></span>
<span id="cb220-4"><a href="#cb220-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-formatofdata" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-formatofdata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.2: Which Format - Long or Wide
</figcaption>
<div aria-describedby="tbl-formatofdata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Ozone</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Solar.R</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Wind</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Temp</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Month</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">41</td>
<td style="text-align: right;">190</td>
<td style="text-align: right;">7.4</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">36</td>
<td style="text-align: right;">118</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">12</td>
<td style="text-align: right;">149</td>
<td style="text-align: right;">12.6</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">18</td>
<td style="text-align: right;">313</td>
<td style="text-align: right;">11.5</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">14.3</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">28</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">14.9</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: right;">23</td>
<td style="text-align: right;">299</td>
<td style="text-align: right;">8.6</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: right;">19</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">13.8</td>
<td style="text-align: right;">59</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">20.1</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: right;">NA</td>
<td style="text-align: right;">194</td>
<td style="text-align: right;">8.6</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">10</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<section id="long-to-wide-format" class="level3" data-number="3.10.1">
<h3 data-number="3.10.1" class="anchored" data-anchor-id="long-to-wide-format"><span class="header-section-number">3.10.1</span> Long-to-Wide Format</h3>
<div style="text-align: justify">
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To make a long dataset to wide, we can use <code>pivot_wider()</code> function from <code>tidyr</code> package in R and <code>pivot()</code> function from <code>pandas</code> in python.</p>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">tidyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>tidyr<span class="sc">::</span>us_rent_income</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 104 × 5
   GEOID NAME       variable estimate   moe
   &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;
 1 01    Alabama    income      24476   136
 2 01    Alabama    rent          747     3
 3 02    Alaska     income      32940   508
 4 02    Alaska     rent         1200    13
 5 04    Arizona    income      27517   148
 6 04    Arizona    rent          972     4
 7 05    Arkansas   income      23789   165
 8 05    Arkansas   rent          709     5
 9 06    California income      29454   109
10 06    California rent         1358     3
# ℹ 94 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>tidyr<span class="sc">::</span>us_rent_income <span class="sc">|&gt;</span></span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(</span>
<span id="cb223-3"><a href="#cb223-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_from =</span> variable, </span>
<span id="cb223-4"><a href="#cb223-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_from =</span> <span class="fu">c</span>(estimate, moe)</span>
<span id="cb223-5"><a href="#cb223-5" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52 × 6
   GEOID NAME                 estimate_income estimate_rent moe_income moe_rent
   &lt;chr&gt; &lt;chr&gt;                          &lt;dbl&gt;         &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;
 1 01    Alabama                        24476           747        136        3
 2 02    Alaska                         32940          1200        508       13
 3 04    Arizona                        27517           972        148        4
 4 05    Arkansas                       23789           709        165        5
 5 06    California                     29454          1358        109        3
 6 08    Colorado                       32401          1125        109        5
 7 09    Connecticut                    35326          1123        195        5
 8 10    Delaware                       31560          1076        247       10
 9 11    District of Columbia           43198          1424        681       17
10 12    Florida                        25952          1077         70        3
# ℹ 42 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install palmerpenguins package</span></span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pip install palmerpenguins</span></span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> palmerpenguins</span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a>penguins <span class="op">=</span> palmerpenguins.load_penguins()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>penguins[[<span class="st">"island"</span>, <span class="st">"bill_length_mm"</span>]] <span class="op">\</span></span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a>    .pivot(columns <span class="op">=</span> <span class="st">"island"</span>, values <span class="op">=</span> <span class="st">"bill_length_mm"</span>) <span class="op">\</span></span>
<span id="cb226-3"><a href="#cb226-3" aria-hidden="true" tabindex="-1"></a>    .fillna(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>island  Biscoe  Dream  Torgersen
0          0.0    0.0       39.1
1          0.0    0.0       39.5
2          0.0    0.0       40.3
3          0.0    0.0        0.0
4          0.0    0.0       36.7
..         ...    ...        ...
339        0.0   55.8        0.0
340        0.0   43.5        0.0
341        0.0   49.6        0.0
342        0.0   50.8        0.0
343        0.0   50.2        0.0

[344 rows x 3 columns]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="wide-to-long-format" class="level3" data-number="3.10.2">
<h3 data-number="3.10.2" class="anchored" data-anchor-id="wide-to-long-format"><span class="header-section-number">3.10.2</span> Wide-to-Long Format</h3>
<div style="text-align: justify">
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To make a wide dataset to long, we can use <code>pivot_longer()</code> function from <code>tidyr</code> package in R and <code>melt()</code> function from <code>pandas</code> in python.</p>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-14-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-1" role="tab" aria-controls="tabset-14-1" aria-selected="true">tidyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-2" role="tab" aria-controls="tabset-14-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-14-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>relig_income</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 11
   religion `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
   &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 Agnostic      27        34        60        81        76       137        122
 2 Atheist       12        27        37        52        35        70         73
 3 Buddhist      27        21        30        34        33        58         62
 4 Catholic     418       617       732       670       638      1116        949
 5 Don’t k…      15        14        15        11        10        35         21
 6 Evangel…     575       869      1064       982       881      1486        949
 7 Hindu          1         9         7         9        11        34         47
 8 Histori…     228       244       236       238       197       223        131
 9 Jehovah…      20        27        24        24        21        30         15
10 Jewish        19        19        25        25        30        95         69
11 Mainlin…     289       495       619       655       651      1107        939
12 Mormon        29        40        48        51        56       112         85
13 Muslim         6         7         9        10         9        23         16
14 Orthodox      13        17        23        32        32        47         38
15 Other C…       9         7        11        13        13        14         18
16 Other F…      20        33        40        46        49        63         46
17 Other W…       5         2         3         4         2         7          3
18 Unaffil…     217       299       374       365       341       528        407
# ℹ 3 more variables: `$100-150k` &lt;dbl&gt;, `&gt;150k` &lt;dbl&gt;,
#   `Don't know/refused` &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>relig_income <span class="sc">|&gt;</span></span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(</span>
<span id="cb230-3"><a href="#cb230-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">!</span><span class="fu">c</span>(religion),</span>
<span id="cb230-4"><a href="#cb230-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"income"</span>,</span>
<span id="cb230-5"><a href="#cb230-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"count"</span></span>
<span id="cb230-6"><a href="#cb230-6" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 3
   religion income             count
   &lt;chr&gt;    &lt;chr&gt;              &lt;dbl&gt;
 1 Agnostic &lt;$10k                 27
 2 Agnostic $10-20k               34
 3 Agnostic $20-30k               60
 4 Agnostic $30-40k               81
 5 Agnostic $40-50k               76
 6 Agnostic $50-75k              137
 7 Agnostic $75-100k             122
 8 Agnostic $100-150k            109
 9 Agnostic &gt;150k                 84
10 Agnostic Don't know/refused    96
# ℹ 170 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-14-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>penguins.melt(value_vars<span class="op">=</span>[<span class="st">"bill_length_mm"</span>, <span class="st">"bill_depth_mm"</span>,<span class="st">"flipper_length_mm"</span>, <span class="st">"body_mass_g"</span>],</span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a>              id_vars <span class="op">=</span> [<span class="st">'species'</span>, <span class="st">'island'</span>, <span class="st">'sex'</span>, <span class="st">'year'</span>]</span>
<span id="cb232-3"><a href="#cb232-3" aria-hidden="true" tabindex="-1"></a>              )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        species     island     sex  year        variable   value
0        Adelie  Torgersen    male  2007  bill_length_mm    39.1
1        Adelie  Torgersen  female  2007  bill_length_mm    39.5
2        Adelie  Torgersen  female  2007  bill_length_mm    40.3
3        Adelie  Torgersen     NaN  2007  bill_length_mm     NaN
4        Adelie  Torgersen  female  2007  bill_length_mm    36.7
...         ...        ...     ...   ...             ...     ...
1371  Chinstrap      Dream    male  2009     body_mass_g  4000.0
1372  Chinstrap      Dream  female  2009     body_mass_g  3400.0
1373  Chinstrap      Dream    male  2009     body_mass_g  3775.0
1374  Chinstrap      Dream    male  2009     body_mass_g  4100.0
1375  Chinstrap      Dream  female  2009     body_mass_g  3775.0

[1376 rows x 6 columns]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="merging-datasets" class="level2" data-number="3.11">
<h2 data-number="3.11" class="anchored" data-anchor-id="merging-datasets"><span class="header-section-number">3.11</span> Merging Datasets</h2>
<div style="text-align: justify">
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Many times, for analysis purposes, we need to join two datasets. This process is also called merging<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. There are different types of joining. So, it is important to learn about those joining techniques. In <a href="#fig-joindatasets" class="quarto-xref">Figure&nbsp;<span>3.3</span></a> shows the joining technique and functions using <code>dplyr</code> in R. Below all of these joining functions are explained.</p>
<ul>
<li><p><code>left_join()</code>: The merged dataset contains <strong>all</strong> observations fromthe <strong>first</strong> (or left) dataset and only <strong>matched</strong> observations from the <strong>second</strong> (or right) dataset</p></li>
<li><p><code>right_join()</code>: The merged dataset contains only <strong>matched</strong> observations from the <strong>first</strong> (or left) dataset and <strong>all</strong> observations from the <strong>second</strong> (or right) dataset</p></li>
<li><p><code>inner_join()</code>: The merged dataset contains <em>only</em> <strong>matched</strong> observations from both datasets</p></li>
<li><p><code>semi_join()</code>: The merged dataset contains <strong>matched</strong> observations from the <strong>first</strong> (or left) dataset. Please note that <code>semi_join()</code> differs from <code>inner_join()</code> in that <code>inner_join()</code> will return one row of first dataset (x) for each matching row of second dataset (y), whereas <code>semi_join()</code> will never duplicate rows of x.</p></li>
<li><p><code>full_join()</code>: The merged dataset contains <strong>all</strong> observations from both datasets</p></li>
<li><p><code>anti_join()</code>: The merged dataset contains only <strong>not matched</strong> observations from the <strong>first</strong> (or left) dataset and contains only the variable from the <strong>left</strong> dataset</p></li>
</ul>
<div id="fig-joindatasets" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-joindatasets-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/join_diagram.png" class="img-fluid figure-img" style="width:40.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-joindatasets-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.3: Joining Datasets
</figcaption>
</figure>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tbl-joinRPython" class="quarto-xref">Table&nbsp;<span>3.3</span></a> compares the <code>dplyr</code> joining functions with equivalent joining functions from <code>pandas</code>.</p>
<div class="cell">
<div id="tbl-joinRPython" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-joinRPython-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.3: Joining Functions - dplyr vs pandas
</figcaption>
<div aria-describedby="tbl-joinRPython-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">dplyr</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">pandas</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">left_join()</td>
<td style="text-align: left;">pd.merge(df1, df2, on='key', how='left')</td>
<td style="text-align: left;">Join matching rows from df2 to df1, keeping all rows from df1.</td>
</tr>
<tr class="even">
<td style="text-align: left;">right_join()</td>
<td style="text-align: left;">pd.merge(df1, df2, on='key', how='right')</td>
<td style="text-align: left;">Join matching rows from df1 to df2, keeping all rows from df2.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">inner_join()</td>
<td style="text-align: left;">pd.merge(df1, df2, on='key', how='inner')</td>
<td style="text-align: left;">Join matching rows from both dataframes (default behavior of merge()).</td>
</tr>
<tr class="even">
<td style="text-align: left;">full_join()</td>
<td style="text-align: left;">pd.merge(df1, df2, on='key', how='outer')</td>
<td style="text-align: left;">Join all rows from both dataframes, filling missing values with NaN.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">semi_join()</td>
<td style="text-align: left;">No direct equivalent, but can be achieved using filtering</td>
<td style="text-align: left;">Keep rows in df1 where a match exists in df2.</td>
</tr>
<tr class="even">
<td style="text-align: left;">anti_join()</td>
<td style="text-align: left;">No direct equivalent, but can be achieved using filtering</td>
<td style="text-align: left;">Keep rows in df1 where no match exists in df2.</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-15-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-1" role="tab" aria-controls="tabset-15-1" aria-selected="true">dplyr</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-2" role="tab" aria-controls="tabset-15-2" aria-selected="false">pandas</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-15-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>data1 <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/msharifbd/DATA/refs/heads/main/DATA.csv"</span>)</span>
<span id="cb234-2"><a href="#cb234-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(data1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 6,910
Columns: 14
$ companyname     &lt;chr&gt; "AMERICAN AIRLINES GROUP INC", "AMERICAN AIRLINES GROU…
$ stateincorp     &lt;chr&gt; "DE", "DE", "DE", "DE", "DE", "DE", "DE", "DE", "DE", …
$ ticker          &lt;chr&gt; "AAL", "AAL", "AAL", "AAL", "AAL", "AAL", "AAL", "AAL"…
$ year            &lt;dbl&gt; 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, …
$ sic             &lt;dbl&gt; 4512, 4512, 4512, 4512, 4512, 4512, 4512, 4512, 4512, …
$ totalassets     &lt;dbl&gt; 25175.000, 25438.000, 25088.000, 23848.000, 23510.000,…
$ costofgoodssold &lt;dbl&gt; 20232.000, 16935.000, 18138.000, 20420.000, 20529.000,…
$ netincome       &lt;dbl&gt; -2071.000, -1468.000, -471.000, -1979.000, -1876.000, …
$ sale            &lt;dbl&gt; 23766.000, 19917.000, 22170.000, 24022.000, 24855.000,…
$ advertising     &lt;dbl&gt; 153.000, 153.000, 165.000, 186.000, 153.000, 166.000, …
$ sellingadmin    &lt;dbl&gt; 3024.000, 2720.000, 2729.000, 2907.000, 2892.000, 4672…
$ mktvalue        &lt;dbl&gt; 2976.3858, 2571.1835, 2597.5755, 117.3438, 266.5571, 6…
$ commonequity    &lt;dbl&gt; -2935.000, -3489.000, -3945.000, -7111.000, -7987.000,…
$ totalliability  &lt;dbl&gt; 28110.000, 28927.000, 29033.000, 30959.000, 31497.000,…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a>data2 <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"https://github.com/msharifbd/DATA/raw/refs/heads/main/DATA2.csv"</span>)</span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(data2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 43,147
Columns: 13
$ ticker                    &lt;chr&gt; "MLP", "MLP", "MLP", "RCPIQ", "RCPIQ", "RCPI…
$ cik_code                  &lt;dbl&gt; 63330, 63330, 63330, 776008, 776008, 776008,…
$ auditor                   &lt;chr&gt; "Accuity LLP", "Accuity LLP", "Accuity LLP",…
$ INTERNALCONTROL_EFFECTIVE &lt;chr&gt; "Yes", "Yes", "Yes", "Yes", "Yes", "Yes", "N…
$ year_ended_date           &lt;date&gt; 2017-12-31, 2018-12-31, 2019-12-31, 2004-12…
$ financials_date           &lt;date&gt; 2017-12-31, 2018-12-31, 2019-12-31, 2004-12…
$ fiscal_year               &lt;dbl&gt; 2017, 2018, 2019, 2004, 2005, 2006, 2007, 20…
$ signature_date            &lt;date&gt; 2018-02-23, 2019-03-01, 2020-02-28, 2005-04…
$ NUMBEROFCONTROLWEAKNESS   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1, 4, 0, 0, 0, 0, 0, 0, 0,…
$ audit_fees                &lt;dbl&gt; 206000, 209000, 213000, 224209, 382454, 4155…
$ non_audit_fees            &lt;dbl&gt; 29000, 30000, 30000, 188081, 92869, 61351, 3…
$ year                      &lt;dbl&gt; 2017, 2018, 2019, 2004, 2005, 2006, 2007, 20…
$ big4                      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># left_join</span></span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(data1, data2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ticker"</span>, <span class="st">"year"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,969 × 25
   companyname        stateincorp ticker  year   sic totalassets costofgoodssold
   &lt;chr&gt;              &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;
 1 AMERICAN AIRLINES… DE          AAL     2008  4512       25175           20232
 2 AMERICAN AIRLINES… DE          AAL     2009  4512       25438           16935
 3 AMERICAN AIRLINES… DE          AAL     2010  4512       25088           18138
 4 AMERICAN AIRLINES… DE          AAL     2011  4512       23848           20420
 5 AMERICAN AIRLINES… DE          AAL     2012  4512       23510           20529
 6 AMERICAN AIRLINES… DE          AAL     2013  4512       42278           19084
 7 AMERICAN AIRLINES… DE          AAL     2014  4512       43771           29511
 8 AMERICAN AIRLINES… DE          AAL     2015  4512       48415           25416
 9 AMERICAN AIRLINES… DE          AAL     2016  4512       51274           25695
10 AMERICAN AIRLINES… DE          AAL     2017  4512       51396           28262
# ℹ 6,959 more rows
# ℹ 18 more variables: netincome &lt;dbl&gt;, sale &lt;dbl&gt;, advertising &lt;dbl&gt;,
#   sellingadmin &lt;dbl&gt;, mktvalue &lt;dbl&gt;, commonequity &lt;dbl&gt;,
#   totalliability &lt;dbl&gt;, cik_code &lt;dbl&gt;, auditor &lt;chr&gt;,
#   INTERNALCONTROL_EFFECTIVE &lt;chr&gt;, year_ended_date &lt;date&gt;,
#   financials_date &lt;date&gt;, fiscal_year &lt;dbl&gt;, signature_date &lt;date&gt;,
#   NUMBEROFCONTROLWEAKNESS &lt;dbl&gt;, audit_fees &lt;dbl&gt;, non_audit_fees &lt;dbl&gt;, …</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="co"># left_join</span></span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(data1 <span class="sc">|&gt;</span> <span class="fu">distinct</span>(ticker, year, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>), </span>
<span id="cb240-3"><a href="#cb240-3" aria-hidden="true" tabindex="-1"></a>          data2 <span class="sc">|&gt;</span> <span class="fu">distinct</span>(ticker, year, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>), </span>
<span id="cb240-4"><a href="#cb240-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ticker"</span>, <span class="st">"year"</span>)</span>
<span id="cb240-5"><a href="#cb240-5" aria-hidden="true" tabindex="-1"></a>          )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,910 × 25
   companyname        stateincorp ticker  year   sic totalassets costofgoodssold
   &lt;chr&gt;              &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;
 1 AMERICAN AIRLINES… DE          AAL     2008  4512       25175           20232
 2 AMERICAN AIRLINES… DE          AAL     2009  4512       25438           16935
 3 AMERICAN AIRLINES… DE          AAL     2010  4512       25088           18138
 4 AMERICAN AIRLINES… DE          AAL     2011  4512       23848           20420
 5 AMERICAN AIRLINES… DE          AAL     2012  4512       23510           20529
 6 AMERICAN AIRLINES… DE          AAL     2013  4512       42278           19084
 7 AMERICAN AIRLINES… DE          AAL     2014  4512       43771           29511
 8 AMERICAN AIRLINES… DE          AAL     2015  4512       48415           25416
 9 AMERICAN AIRLINES… DE          AAL     2016  4512       51274           25695
10 AMERICAN AIRLINES… DE          AAL     2017  4512       51396           28262
# ℹ 6,900 more rows
# ℹ 18 more variables: netincome &lt;dbl&gt;, sale &lt;dbl&gt;, advertising &lt;dbl&gt;,
#   sellingadmin &lt;dbl&gt;, mktvalue &lt;dbl&gt;, commonequity &lt;dbl&gt;,
#   totalliability &lt;dbl&gt;, cik_code &lt;dbl&gt;, auditor &lt;chr&gt;,
#   INTERNALCONTROL_EFFECTIVE &lt;chr&gt;, year_ended_date &lt;date&gt;,
#   financials_date &lt;date&gt;, fiscal_year &lt;dbl&gt;, signature_date &lt;date&gt;,
#   NUMBEROFCONTROLWEAKNESS &lt;dbl&gt;, audit_fees &lt;dbl&gt;, non_audit_fees &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-15-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>dataset1 <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/msharifbd/DATA/refs/heads/main/DATA.csv"</span>)</span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a>dataset2 <span class="op">=</span> pd.read_csv(<span class="st">"https://github.com/msharifbd/DATA/raw/refs/heads/main/DATA2.csv"</span>,encoding<span class="op">=</span><span class="st">"latin-1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a>pd.merge(dataset1, dataset2, on<span class="op">=</span>[<span class="st">'ticker'</span>, <span class="st">'year'</span>], how<span class="op">=</span><span class="st">'left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      companyname stateincorp  ... non_audit_fees  big4
0     AMERICAN AIRLINES GROUP INC          DE  ...       990000.0   1.0
1     AMERICAN AIRLINES GROUP INC          DE  ...      1446000.0   1.0
2     AMERICAN AIRLINES GROUP INC          DE  ...      1455000.0   1.0
3     AMERICAN AIRLINES GROUP INC          DE  ...      2645000.0   1.0
4     AMERICAN AIRLINES GROUP INC          DE  ...      1989000.0   1.0
...                           ...         ...  ...            ...   ...
6964         INFOSONICS CORP -OLD          MD  ...            NaN   NaN
6965         INFOSONICS CORP -OLD          MD  ...            NaN   NaN
6966         INFOSONICS CORP -OLD          MD  ...            NaN   NaN
6967         INFOSONICS CORP -OLD          MD  ...            NaN   NaN
6968         INFOSONICS CORP -OLD          MD  ...            NaN   NaN

[6969 rows x 25 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a>dataset1_drop <span class="op">=</span> dataset1.drop_duplicates(subset<span class="op">=</span>[<span class="st">'ticker'</span>, <span class="st">'year'</span>], ignore_index <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a>dataset2_drop <span class="op">=</span> dataset2.drop_duplicates(subset<span class="op">=</span>[<span class="st">'ticker'</span>, <span class="st">'year'</span>], ignore_index <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb245-3"><a href="#cb245-3" aria-hidden="true" tabindex="-1"></a>pd.merge(dataset1_drop, dataset2_drop, on<span class="op">=</span>[<span class="st">'ticker'</span>, <span class="st">'year'</span>], how<span class="op">=</span><span class="st">'left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      companyname stateincorp  ... non_audit_fees  big4
0     AMERICAN AIRLINES GROUP INC          DE  ...       990000.0   1.0
1     AMERICAN AIRLINES GROUP INC          DE  ...      1446000.0   1.0
2     AMERICAN AIRLINES GROUP INC          DE  ...      1455000.0   1.0
3     AMERICAN AIRLINES GROUP INC          DE  ...      2645000.0   1.0
4     AMERICAN AIRLINES GROUP INC          DE  ...      1989000.0   1.0
...                           ...         ...  ...            ...   ...
6905         INFOSONICS CORP -OLD          MD  ...            NaN   NaN
6906         INFOSONICS CORP -OLD          MD  ...            NaN   NaN
6907         INFOSONICS CORP -OLD          MD  ...            NaN   NaN
6908         INFOSONICS CORP -OLD          MD  ...            NaN   NaN
6909         INFOSONICS CORP -OLD          MD  ...            NaN   NaN

[6910 rows x 25 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.DataFrame({<span class="st">'id'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="st">'value'</span>: [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>]})</span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame({<span class="st">'id'</span>: [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], <span class="st">'other_value'</span>: [<span class="st">'X'</span>, <span class="st">'Y'</span>, <span class="st">'Z'</span>]})</span>
<span id="cb247-3"><a href="#cb247-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-4"><a href="#cb247-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Left join</span></span>
<span id="cb247-5"><a href="#cb247-5" aria-hidden="true" tabindex="-1"></a>left_join <span class="op">=</span> pd.merge(df1, df2, on<span class="op">=</span><span class="st">'id'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb247-6"><a href="#cb247-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-7"><a href="#cb247-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Inner join</span></span>
<span id="cb247-8"><a href="#cb247-8" aria-hidden="true" tabindex="-1"></a>inner_join <span class="op">=</span> pd.merge(df1, df2, on<span class="op">=</span><span class="st">'id'</span>)</span>
<span id="cb247-9"><a href="#cb247-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-10"><a href="#cb247-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Semi join</span></span>
<span id="cb247-11"><a href="#cb247-11" aria-hidden="true" tabindex="-1"></a>semi_join <span class="op">=</span> df1[df1[<span class="st">'id'</span>].isin(df2[<span class="st">'id'</span>])]</span>
<span id="cb247-12"><a href="#cb247-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-13"><a href="#cb247-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Anti join</span></span>
<span id="cb247-14"><a href="#cb247-14" aria-hidden="true" tabindex="-1"></a>anti_join <span class="op">=</span> df1[<span class="op">~</span>df1[<span class="st">'id'</span>].isin(df2[<span class="st">'id'</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="conclusions" class="level2" data-number="3.12">
<h2 data-number="3.12" class="anchored" data-anchor-id="conclusions"><span class="header-section-number">3.12</span> Conclusions</h2>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-wickham2023r" class="csl-entry" role="listitem">
Wickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. <em>R for Data Science</em>. " O’Reilly Media, Inc.". <a href="https://r4ds.hadley.nz/">https://r4ds.hadley.nz/</a>.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>You can also use British spelling - <code>summarise ()</code><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Indexing involves obtaining individual elements.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>In database context, it is “merging”, but commonly it is called “joining”.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/analyticsforaccountingdata\.netlify\.app\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./foundations.html" class="pagination-link" aria-label="Foundations of Accounting Data">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Foundations of Accounting Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./visualization.html" class="pagination-link" aria-label="Data Visualization">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Visualization</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright©Sharif Islam</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/msharifbd/sharifanalytics/edit/main/eda.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/msharifbd/sharifanalytics/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/msharifbd/sharifanalytics/blob/main/eda.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>